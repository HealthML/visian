/*! For license information please see polyfills.8ad6e621b2e236f6.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[429],{37197:(e,t,r)=>{"use strict";r(634),r(96882),r(64844),r(40225),r(71686),r(68223),r(27072),r(84870),r(39529),r(15735),r(43108),r(9731),r(49992),r(43430),r(67694),r(53985),r(65388),r(72994),r(39509),r(48836),r(77208),r(61657),r(43105),r(37846),r(16635),r(81804),r(42586),r(43045),r(13489),r(68995),r(73439),r(21515),r(98738),r(17368),r(77950),r(90103),r(88233),r(96708),r(31235),r(74069),r(90977),r(35734),r(85940),r(94908),r(48319),r(44112),r(45794),r(18827),r(41715),r(81382),r(91982),r(73229),r(24074),r(64696),r(13675),r(36920),r(13161),r(90723),r(38857),r(26618),r(49527),r(65688),r(70315),r(50556),r(6886),r(46106),r(19866),r(14121),r(85371),r(60523);const i=void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n=Symbol("@@webxr-polyfill/EventTarget");class s{constructor(){this[n]={listeners:new Map}}addEventListener(e,t){if("string"!=typeof e)throw new Error("`type` must be a string");if("function"!=typeof t)throw new Error("`listener` must be a function");const r=this[n].listeners.get(e)||[];r.push(t),this[n].listeners.set(e,r)}removeEventListener(e,t){if("string"!=typeof e)throw new Error("`type` must be a string");if("function"!=typeof t)throw new Error("`listener` must be a function");const r=this[n].listeners.get(e)||[];for(let i=r.length;i>=0;i--)r[i]===t&&r.pop()}dispatchEvent(e,t){const r=this[n].listeners.get(e)||[],i=[];for(let n=0;n<r.length;n++)i[n]=r[n];for(let n of i)n(t);"function"==typeof this[`on${e}`]&&this[`on${e}`](t)}}let o="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;function a(){let e=new o(16);return o!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function u(e,t){let r=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=t[9],d=t[10],A=t[11],f=t[12],p=t[13],m=t[14],v=t[15],g=r*a-i*o,y=r*l-n*o,w=r*u-s*o,b=i*l-n*a,E=i*u-s*a,x=n*u-s*l,S=c*p-h*f,M=c*m-d*f,R=c*v-A*f,_=h*m-d*p,F=h*v-A*p,T=d*v-A*m,P=g*T-y*F+w*_+b*R-E*M+x*S;return P?(P=1/P,e[0]=(a*T-l*F+u*_)*P,e[1]=(n*F-i*T-s*_)*P,e[2]=(p*x-m*E+v*b)*P,e[3]=(d*E-h*x-A*b)*P,e[4]=(l*R-o*T-u*M)*P,e[5]=(r*T-n*R+s*M)*P,e[6]=(m*w-f*x-v*y)*P,e[7]=(c*x-d*w+A*y)*P,e[8]=(o*F-a*R+u*S)*P,e[9]=(i*R-r*F-s*S)*P,e[10]=(f*E-p*w+v*g)*P,e[11]=(h*w-c*E-A*g)*P,e[12]=(a*M-o*_-l*S)*P,e[13]=(r*_-i*M+n*S)*P,e[14]=(p*y-f*b-m*g)*P,e[15]=(c*b-h*y+d*g)*P,e):null}function c(e,t,r){let i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],A=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=r[0],w=r[1],b=r[2],E=r[3];return e[0]=y*i+w*a+b*h+E*p,e[1]=y*n+w*l+b*d+E*m,e[2]=y*s+w*u+b*A+E*v,e[3]=y*o+w*c+b*f+E*g,y=r[4],w=r[5],b=r[6],E=r[7],e[4]=y*i+w*a+b*h+E*p,e[5]=y*n+w*l+b*d+E*m,e[6]=y*s+w*u+b*A+E*v,e[7]=y*o+w*c+b*f+E*g,y=r[8],w=r[9],b=r[10],E=r[11],e[8]=y*i+w*a+b*h+E*p,e[9]=y*n+w*l+b*d+E*m,e[10]=y*s+w*u+b*A+E*v,e[11]=y*o+w*c+b*f+E*g,y=r[12],w=r[13],b=r[14],E=r[15],e[12]=y*i+w*a+b*h+E*p,e[13]=y*n+w*l+b*d+E*m,e[14]=y*s+w*u+b*A+E*v,e[15]=y*o+w*c+b*f+E*g,e}function h(e,t,r){let i=t[0],n=t[1],s=t[2],o=t[3],a=i+i,l=n+n,u=s+s,c=i*a,h=i*l,d=i*u,A=n*l,f=n*u,p=s*u,m=o*a,v=o*l,g=o*u;return e[0]=1-(A+p),e[1]=h+g,e[2]=d-v,e[3]=0,e[4]=h-g,e[5]=1-(c+p),e[6]=f+m,e[7]=0,e[8]=d+v,e[9]=f-m,e[10]=1-(c+A),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function d(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function A(e,t){let r=t[0]+t[5]+t[10],i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function f(e,t,r,i,n){let s,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(s=1/(i-n),e[10]=(n+i)*s,e[14]=2*n*i*s):(e[10]=-1,e[14]=-2*i),e}function p(){let e=new o(3);return o!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function m(e){var t=new o(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function v(e,t,r){let i=new o(3);return i[0]=e,i[1]=t,i[2]=r,i}function g(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function y(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function w(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function b(e,t){let r=t[0],i=t[1],n=t[2],s=r*r+i*i+n*n;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function E(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function x(e,t,r){let i=t[0],n=t[1],s=t[2],o=r[0],a=r[1],l=r[2];return e[0]=n*l-s*a,e[1]=s*o-i*l,e[2]=i*a-n*o,e}function S(e,t,r){let i=r[0],n=r[1],s=r[2],o=r[3],a=t[0],l=t[1],u=t[2],c=n*u-s*l,h=s*a-i*u,d=i*l-n*a,A=n*d-s*h,f=s*c-i*d,p=i*h-n*c,m=2*o;return c*=m,h*=m,d*=m,A*=2,f*=2,p*=2,e[0]=a+c+A,e[1]=l+h+f,e[2]=u+d+p,e}const M=function(e){let t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)};!function(){let e=p()}();!function(){let e=function(){let e=new o(4);return o!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}();function R(){let e=new o(4);return o!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function _(e,t,r){let i=t[0],n=t[1],s=t[2],o=t[3],a=r[0],l=r[1],u=r[2],c=r[3];return e[0]=i*c+o*a+n*u-s*l,e[1]=n*c+o*l+s*a-i*u,e[2]=s*c+o*u+i*l-n*a,e[3]=o*c-i*a-n*l-s*u,e}function F(e,t,r,i){let n,s,o,a,l,u=t[0],c=t[1],h=t[2],d=t[3],A=r[0],f=r[1],p=r[2],m=r[3];return s=u*A+c*f+h*p+d*m,s<0&&(s=-s,A=-A,f=-f,p=-p,m=-m),1-s>1e-6?(n=Math.acos(s),o=Math.sin(n),a=Math.sin((1-i)*n)/o,l=Math.sin(i*n)/o):(a=1-i,l=i),e[0]=a*u+l*A,e[1]=a*c+l*f,e[2]=a*h+l*p,e[3]=a*d+l*m,e}function T(e,t){let r=t[0],i=t[1],n=t[2],s=t[3],o=r*r+i*i+n*n+s*s,a=o?1/o:0;return e[0]=-r*a,e[1]=-i*a,e[2]=-n*a,e[3]=s*a,e}const P=function(e){let t=new o(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},I=function(e,t,r,i){let n=new o(4);return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n},C=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},B=function(e,t){let r=t[0],i=t[1],n=t[2],s=t[3],o=r*r+i*i+n*n+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=i*o,e[2]=n*o,e[3]=s*o),e},D=(function(){let e=p(),t=v(1,0,0),r=v(0,1,0)}(),function(){let e=R(),t=R()}(),function(){let e=function(){let e=new o(9);return o!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}()}(),Symbol("@@webxr-polyfill/XRRigidTransform"));class L{constructor(){if(this[D]={matrix:null,position:null,orientation:null,inverse:null},0===arguments.length)this[D].matrix=l(new Float32Array(16));else if(1===arguments.length)arguments[0]instanceof Float32Array?this[D].matrix=arguments[0]:(this[D].position=this._getPoint(arguments[0]),this[D].orientation=DOMPointReadOnly.fromPoint({x:0,y:0,z:0,w:1}));else{if(2!==arguments.length)throw new Error("Too many arguments!");this[D].position=this._getPoint(arguments[0]),this[D].orientation=this._getPoint(arguments[1])}if(this[D].matrix){let e=p();d(e,this[D].matrix),this[D].position=DOMPointReadOnly.fromPoint({x:e[0],y:e[1],z:e[2]});let t=R();A(t,this[D].matrix),this[D].orientation=DOMPointReadOnly.fromPoint({x:t[0],y:t[1],z:t[2],w:t[3]})}else this[D].matrix=l(new Float32Array(16)),h(this[D].matrix,I(this[D].orientation.x,this[D].orientation.y,this[D].orientation.z,this[D].orientation.w),v(this[D].position.x,this[D].position.y,this[D].position.z))}_getPoint(e){return e instanceof DOMPointReadOnly?e:DOMPointReadOnly.fromPoint(e)}get matrix(){return this[D].matrix}get position(){return this[D].position}get orientation(){return this[D].orientation}get inverse(){if(null===this[D].inverse){let e=l(new Float32Array(16));u(e,this[D].matrix),this[D].inverse=new L(e),this[D].inverse[D].inverse=this}return this[D].inverse}}const O=Symbol("@@webxr-polyfill/XRSpace");class N{constructor(e=null,t=null){this[O]={specialType:e,inputSource:t,baseMatrix:null,inverseBaseMatrix:null,lastFrameId:-1}}get _specialType(){return this[O].specialType}get _inputSource(){return this[O].inputSource}_ensurePoseUpdated(e,t){t!=this[O].lastFrameId&&(this[O].lastFrameId=t,this._onPoseUpdate(e))}_onPoseUpdate(e){"viewer"==this[O].specialType&&(this._baseMatrix=e.getBasePoseMatrix())}set _baseMatrix(e){this[O].baseMatrix=e,this[O].inverseBaseMatrix=null}get _baseMatrix(){return this[O].baseMatrix||this[O].inverseBaseMatrix&&(this[O].baseMatrix=new Float32Array(16),u(this[O].baseMatrix,this[O].inverseBaseMatrix)),this[O].baseMatrix}set _inverseBaseMatrix(e){this[O].inverseBaseMatrix=e,this[O].baseMatrix=null}get _inverseBaseMatrix(){return this[O].inverseBaseMatrix||this[O].baseMatrix&&(this[O].inverseBaseMatrix=new Float32Array(16),u(this[O].inverseBaseMatrix,this[O].baseMatrix)),this[O].inverseBaseMatrix}_getSpaceRelativeTransform(e){if(!this._inverseBaseMatrix||!e._baseMatrix)return null;let t=new Float32Array(16);return c(t,this._inverseBaseMatrix,e._baseMatrix),new L(t)}}const k=Symbol("@@webxr-polyfill/XRReferenceSpace"),G=["viewer","local","local-floor","bounded-floor","unbounded"];class U extends N{constructor(e,t=null){if(!G.includes(e))throw new Error(`XRReferenceSpaceType must be one of ${G}`);if(super(e),"bounded-floor"===e&&!t)throw new Error("XRReferenceSpace cannot use 'bounded-floor' type if the platform does not provide the floor level");(function(e){return"bounded-floor"===e||"local-floor"===e})(e)&&!t&&((t=l(new Float32Array(16)))[13]=1.6),this._inverseBaseMatrix=t||l(new Float32Array(16)),this[k]={type:e,transform:t,originOffset:l(new Float32Array(16))}}_transformBasePoseMatrix(e,t){c(e,this._inverseBaseMatrix,t)}_originOffsetMatrix(){return this[k].originOffset}_adjustForOriginOffset(e){let t=new Float32Array(16);u(t,this[k].originOffset),c(e,t,e)}_getSpaceRelativeTransform(e){let t=super._getSpaceRelativeTransform(e);return this._adjustForOriginOffset(t.matrix),new XRRigidTransform(t.matrix)}getOffsetReferenceSpace(e){let t=new U(this[k].type,this[k].transform,this[k].bounds);return c(t[k].originOffset,this[k].originOffset,e.matrix),t}}const Q=Symbol("@@webxr-polyfill/XR"),V=["inline","immersive-vr","immersive-ar"],z={inline:{requiredFeatures:["viewer"],optionalFeatures:[]},"immersive-vr":{requiredFeatures:["viewer","local"],optionalFeatures:[]},"immersive-ar":{requiredFeatures:["viewer","local"],optionalFeatures:[]}};let H;if("performance"in i==!1){let e=Date.now();H=()=>Date.now()-e}else H=()=>performance.now();var j=H;const X=Symbol("@@webxr-polyfill/XRPose");class W{constructor(e,t){this[X]={transform:e,emulatedPosition:t}}get transform(){return this[X].transform}get emulatedPosition(){return this[X].emulatedPosition}}const q=Symbol("@@webxr-polyfill/XRViewerPose");class Y extends W{constructor(e,t,r=!1){super(e,r),this[q]={views:t}}get views(){return this[q].views}}const Z=Symbol("@@webxr-polyfill/XRViewport");class J{constructor(e){this[Z]={target:e}}get x(){return this[Z].target.x}get y(){return this[Z].target.y}get width(){return this[Z].target.width}get height(){return this[Z].target.height}}const K=["left","right","none"],$=Symbol("@@webxr-polyfill/XRView");class ee{constructor(e,t,r,i){if(!K.includes(r))throw new Error(`XREye must be one of: ${K}`);const n=Object.create(null),s=new J(n);this[$]={device:e,eye:r,viewport:s,temp:n,sessionId:i,transform:t}}get eye(){return this[$].eye}get projectionMatrix(){return this[$].device.getProjectionMatrix(this.eye)}get transform(){return this[$].transform}_getViewport(e){if(this[$].device.getViewport(this[$].sessionId,this.eye,e,this[$].temp))return this[$].viewport}}const te=Symbol("@@webxr-polyfill/XRFrame"),re="XRFrame access outside the callback that produced it is invalid.";let ie=0;class ne{constructor(e,t,r){this[te]={id:++ie,active:!1,animationFrame:!1,device:e,session:t,sessionId:r}}get session(){return this[te].session}getViewerPose(e){if(!this[te].animationFrame)throw new DOMException("getViewerPose can only be called on XRFrame objects passed to XRSession.requestAnimationFrame callbacks.","InvalidStateError");if(!this[te].active)throw new DOMException(re,"InvalidStateError");const t=this[te].device,r=this[te].session;r[ge].viewerSpace._ensurePoseUpdated(t,this[te].id),e._ensurePoseUpdated(t,this[te].id);let i=e._getSpaceRelativeTransform(r[ge].viewerSpace);const n=[];for(let s of r[ge].viewSpaces){s._ensurePoseUpdated(t,this[te].id);let r=e._getSpaceRelativeTransform(s),i=new ee(t,r,s.eye,this[te].sessionId);n.push(i)}return new Y(i,n,!1)}getPose(e,t){if(!this[te].active)throw new DOMException(re,"InvalidStateError");const r=this[te].device;if("target-ray"===e._specialType||"grip"===e._specialType)return r.getInputPose(e._inputSource,t,e._specialType);{e._ensurePoseUpdated(r,this[te].id),t._ensurePoseUpdated(r,this[te].id);let i=t._getSpaceRelativeTransform(e);return i?new XRPose(i,!1):null}}}const se=Symbol("@@webxr-polyfill/XRRenderState"),oe=Object.freeze({depthNear:.1,depthFar:1e3,inlineVerticalFieldOfView:null,baseLayer:null});class ae{constructor(e={}){const t=Object.assign({},oe,e);this[se]={config:t}}get depthNear(){return this[se].config.depthNear}get depthFar(){return this[se].config.depthFar}get inlineVerticalFieldOfView(){return this[se].config.inlineVerticalFieldOfView}get baseLayer(){return this[se].config.baseLayer}}const le=Symbol("@@webxr-polyfill/polyfilled-xr-compatible"),ue=Symbol("@@webxr-polyfill/xr-compatible"),ce=Symbol("@@webxr-polyfill/XRWebGLLayer"),he=Object.freeze({antialias:!0,depth:!1,stencil:!1,alpha:!0,multiview:!1,ignoreDepthValues:!1,framebufferScaleFactor:1});const de=Symbol("@@webxr-polyfill/XRInputSourceEvent");class Ae extends Event{constructor(e,t){super(e,t),this[de]={frame:t.frame,inputSource:t.inputSource},Object.setPrototypeOf(this,Ae.prototype)}get frame(){return this[de].frame}get inputSource(){return this[de].inputSource}}const fe=Symbol("@@webxr-polyfill/XRSessionEvent");class pe extends Event{constructor(e,t){super(e,t),this[fe]={session:t.session},Object.setPrototypeOf(this,pe.prototype)}get session(){return this[fe].session}}const me=Symbol("@@webxr-polyfill/XRInputSourcesChangeEvent");class ve extends Event{constructor(e,t){super(e,t),this[me]={session:t.session,added:t.added,removed:t.removed},Object.setPrototypeOf(this,ve.prototype)}get session(){return this[me].session}get added(){return this[me].added}get removed(){return this[me].removed}}const ge=Symbol("@@webxr-polyfill/XRSession");class ye extends N{constructor(e){super(e)}get eye(){return this._specialType}_onPoseUpdate(e){this._inverseBaseMatrix=e.getBaseViewMatrix(this._specialType)}}class we extends s{constructor(e,t,r){super();let i="inline"!=t,n=new ae({inlineVerticalFieldOfView:i?null:.5*Math.PI});this[ge]={device:e,mode:t,immersive:i,ended:!1,suspended:!1,frameCallbacks:[],currentFrameCallbacks:null,frameHandle:0,deviceFrameHandle:null,id:r,activeRenderState:n,pendingRenderState:null,viewerSpace:new U("viewer"),viewSpaces:[],currentInputSources:[]},i?this[ge].viewSpaces.push(new ye("left"),new ye("right")):this[ge].viewSpaces.push(new ye("none")),this[ge].onDeviceFrame=()=>{if(this[ge].ended||this[ge].suspended)return;if(this[ge].deviceFrameHandle=null,this[ge].startDeviceFrameLoop(),null!==this[ge].pendingRenderState&&(this[ge].activeRenderState=new ae(this[ge].pendingRenderState),this[ge].pendingRenderState=null,this[ge].activeRenderState.baseLayer&&this[ge].device.onBaseLayerSet(this[ge].id,this[ge].activeRenderState.baseLayer)),null===this[ge].activeRenderState.baseLayer)return;const t=new ne(e,this,this[ge].id),r=this[ge].currentFrameCallbacks=this[ge].frameCallbacks;this[ge].frameCallbacks=[],t[te].active=!0,t[te].animationFrame=!0,this[ge].device.onFrameStart(this[ge].id,this[ge].activeRenderState),this._checkInputSourcesChange();const i=j();for(let e=0;e<r.length;e++)try{r[e].cancelled||"function"!=typeof r[e].callback||r[e].callback(i,t)}catch(n){console.error(n)}this[ge].currentFrameCallbacks=null,t[te].active=!1,this[ge].device.onFrameEnd(this[ge].id)},this[ge].startDeviceFrameLoop=()=>{null===this[ge].deviceFrameHandle&&(this[ge].deviceFrameHandle=this[ge].device.requestAnimationFrame(this[ge].onDeviceFrame))},this[ge].stopDeviceFrameLoop=()=>{const e=this[ge].deviceFrameHandle;null!==e&&(this[ge].device.cancelAnimationFrame(e),this[ge].deviceFrameHandle=null)},this[ge].onPresentationEnd=t=>{if(t!==this[ge].id)return this[ge].suspended=!1,this[ge].startDeviceFrameLoop(),void this.dispatchEvent("focus",{session:this});this[ge].ended=!0,this[ge].stopDeviceFrameLoop(),e.removeEventListener("@@webxr-polyfill/vr-present-end",this[ge].onPresentationEnd),e.removeEventListener("@@webxr-polyfill/vr-present-start",this[ge].onPresentationStart),e.removeEventListener("@@webxr-polyfill/input-select-start",this[ge].onSelectStart),e.removeEventListener("@@webxr-polyfill/input-select-end",this[ge].onSelectEnd),this.dispatchEvent("end",new pe("end",{session:this}))},e.addEventListener("@@webxr-polyfill/vr-present-end",this[ge].onPresentationEnd),this[ge].onPresentationStart=e=>{e!==this[ge].id&&(this[ge].suspended=!0,this[ge].stopDeviceFrameLoop(),this.dispatchEvent("blur",{session:this}))},e.addEventListener("@@webxr-polyfill/vr-present-start",this[ge].onPresentationStart),this[ge].onSelectStart=e=>{e.sessionId===this[ge].id&&this[ge].dispatchInputSourceEvent("selectstart",e.inputSource)},e.addEventListener("@@webxr-polyfill/input-select-start",this[ge].onSelectStart),this[ge].onSelectEnd=e=>{e.sessionId===this[ge].id&&(this[ge].dispatchInputSourceEvent("selectend",e.inputSource),this[ge].dispatchInputSourceEvent("select",e.inputSource))},e.addEventListener("@@webxr-polyfill/input-select-end",this[ge].onSelectEnd),this[ge].onSqueezeStart=e=>{e.sessionId===this[ge].id&&this[ge].dispatchInputSourceEvent("squeezestart",e.inputSource)},e.addEventListener("@@webxr-polyfill/input-squeeze-start",this[ge].onSqueezeStart),this[ge].onSqueezeEnd=e=>{e.sessionId===this[ge].id&&(this[ge].dispatchInputSourceEvent("squeezeend",e.inputSource),this[ge].dispatchInputSourceEvent("squeeze",e.inputSource))},e.addEventListener("@@webxr-polyfill/input-squeeze-end",this[ge].onSqueezeEnd),this[ge].dispatchInputSourceEvent=(t,r)=>{const i=new ne(e,this,this[ge].id),n=new Ae(t,{frame:i,inputSource:r});i[te].active=!0,this.dispatchEvent(t,n),i[te].active=!1},this[ge].startDeviceFrameLoop(),this.onblur=void 0,this.onfocus=void 0,this.onresetpose=void 0,this.onend=void 0,this.onselect=void 0,this.onselectstart=void 0,this.onselectend=void 0}get renderState(){return this[ge].activeRenderState}get environmentBlendMode(){return this[ge].device.environmentBlendMode||"opaque"}async requestReferenceSpace(e){if(this[ge].ended)return;if(!G.includes(e))throw new TypeError(`XRReferenceSpaceType must be one of ${G}`);if(!this[ge].device.doesSessionSupportReferenceSpace(this[ge].id,e))throw new DOMException(`The ${e} reference space is not supported by this session.`,"NotSupportedError");if("viewer"===e)return this[ge].viewerSpace;let t=await this[ge].device.requestFrameOfReferenceTransform(e);if("bounded-floor"===e){if(!t)throw new DOMException(`${e} XRReferenceSpace not supported by this device.`,"NotSupportedError");if(!this[ge].device.requestStageBounds())throw new DOMException(`${e} XRReferenceSpace not supported by this device.`,"NotSupportedError");throw new DOMException(`The WebXR polyfill does not support the ${e} reference space yet.`,"NotSupportedError")}return new U(e,t)}requestAnimationFrame(e){if(this[ge].ended)return;const t=++this[ge].frameHandle;return this[ge].frameCallbacks.push({handle:t,callback:e,cancelled:!1}),t}cancelAnimationFrame(e){let t=this[ge].frameCallbacks,r=t.findIndex((t=>t&&t.handle===e));r>-1&&(t[r].cancelled=!0,t.splice(r,1)),t=this[ge].currentFrameCallbacks,t&&(r=t.findIndex((t=>t&&t.handle===e)),r>-1&&(t[r].cancelled=!0))}get inputSources(){return this[ge].device.getInputSources()}async end(){if(!this[ge].ended)return this[ge].immersive&&(this[ge].ended=!0,this[ge].device.removeEventListener("@@webxr-polyfill/vr-present-start",this[ge].onPresentationStart),this[ge].device.removeEventListener("@@webxr-polyfill/vr-present-end",this[ge].onPresentationEnd),this[ge].device.removeEventListener("@@webxr-polyfill/input-select-start",this[ge].onSelectStart),this[ge].device.removeEventListener("@@webxr-polyfill/input-select-end",this[ge].onSelectEnd),this.dispatchEvent("end",new pe("end",{session:this}))),this[ge].stopDeviceFrameLoop(),this[ge].device.endSession(this[ge].id)}updateRenderState(e){if(this[ge].ended){throw new Error("Can't call updateRenderState on an XRSession that has already ended.")}if(e.baseLayer&&e.baseLayer._session!==this){throw new Error("Called updateRenderState with a base layer that was created by a different session.")}if(null!==e.inlineVerticalFieldOfView&&void 0!==e.inlineVerticalFieldOfView){if(this[ge].immersive){throw new Error("inlineVerticalFieldOfView must not be set for an XRRenderState passed to updateRenderState for an immersive session.")}e.inlineVerticalFieldOfView=Math.min(3.13,Math.max(.01,e.inlineVerticalFieldOfView))}if(null===this[ge].pendingRenderState){const e=this[ge].activeRenderState;this[ge].pendingRenderState={depthNear:e.depthNear,depthFar:e.depthFar,inlineVerticalFieldOfView:e.inlineVerticalFieldOfView,baseLayer:e.baseLayer}}Object.assign(this[ge].pendingRenderState,e)}_checkInputSourcesChange(){const e=[],t=[],r=this.inputSources,i=this[ge].currentInputSources;for(const n of r)i.includes(n)||e.push(n);for(const n of i)r.includes(n)||t.push(n);(e.length>0||t.length>0)&&this.dispatchEvent("inputsourceschange",new ve("inputsourceschange",{session:this,added:e,removed:t})),this[ge].currentInputSources.length=0;for(const n of r)this[ge].currentInputSources.push(n)}}const be=Symbol("@@webxr-polyfill/XRInputSource");class Ee{constructor(e){this[be]={impl:e,gripSpace:new N("grip",this),targetRaySpace:new N("target-ray",this)}}get handedness(){return this[be].impl.handedness}get targetRayMode(){return this[be].impl.targetRayMode}get gripSpace(){let e=this[be].impl.targetRayMode;return"gaze"===e||"screen"===e?null:this[be].gripSpace}get targetRaySpace(){return this[be].targetRaySpace}get profiles(){return this[be].impl.profiles}get gamepad(){return this[be].impl.gamepad}}const xe=Symbol("@@webxr-polyfill/XRReferenceSpaceEvent");class Se extends Event{constructor(e,t){super(e,t),this[xe]={referenceSpace:t.referenceSpace,transform:t.transform||null},Object.setPrototypeOf(this,Se.prototype)}get referenceSpace(){return this[xe].referenceSpace}get transform(){return this[xe].transform}}var Me={XRSystem:class extends s{constructor(e){super(),this[Q]={device:null,devicePromise:e,immersiveSession:null,inlineSessions:new Set},e.then((e=>{this[Q].device=e}))}async isSessionSupported(e){return this[Q].device||await this[Q].devicePromise,"inline"!=e?Promise.resolve(this[Q].device.isSessionSupported(e)):Promise.resolve(!0)}async requestSession(e,t){if(!this[Q].device){if("inline"!=e)throw new Error("Polyfill Error: Must call navigator.xr.isSessionSupported() with any XRSessionMode\nor navigator.xr.requestSession('inline') prior to requesting an immersive\nsession. This is a limitation specific to the WebXR Polyfill and does not apply\nto native implementations of the API.");await this[Q].devicePromise}if(!V.includes(e))throw new TypeError(`The provided value '${e}' is not a valid enum value of type XRSessionMode`);const r=z[e],i=r.requiredFeatures.concat(t&&t.requiredFeatures?t.requiredFeatures:[]),n=r.optionalFeatures.concat(t&&t.optionalFeatures?t.optionalFeatures:[]),s=new Set;let o=!1;for(let c of i)this[Q].device.isFeatureSupported(c)?s.add(c):(console.error(`The required feature '${c}' is not supported`),o=!0);if(o)throw new DOMException("Session does not support some required features","NotSupportedError");for(let c of n)this[Q].device.isFeatureSupported(c)?s.add(c):console.log(`The optional feature '${c}' is not supported`);const a=await this[Q].device.requestSession(e,s),l=new XRSession(this[Q].device,e,a);"inline"==e?this[Q].inlineSessions.add(l):this[Q].immersiveSession=l;const u=()=>{"inline"==e?this[Q].inlineSessions.delete(l):this[Q].immersiveSession=null,l.removeEventListener("end",u)};return l.addEventListener("end",u),l}},XRSession:we,XRSessionEvent:pe,XRFrame:ne,XRView:ee,XRViewport:J,XRViewerPose:Y,XRWebGLLayer:class{constructor(e,t,r={}){const i=Object.assign({},he,r);if(!(e instanceof we))throw new Error("session must be a XRSession");if(e.ended)throw new Error("InvalidStateError");if(t[le]&&!0!==t[ue])throw new Error("InvalidStateError");const n=t.getParameter(t.FRAMEBUFFER_BINDING);this[ce]={context:t,config:i,framebuffer:n,session:e}}get context(){return this[ce].context}get antialias(){return this[ce].config.antialias}get ignoreDepthValues(){return!0}get framebuffer(){return this[ce].framebuffer}get framebufferWidth(){return this[ce].context.drawingBufferWidth}get framebufferHeight(){return this[ce].context.drawingBufferHeight}get _session(){return this[ce].session}getViewport(e){return e._getViewport(this)}static getNativeFramebufferScaleFactor(e){if(!e)throw new TypeError("getNativeFramebufferScaleFactor must be passed a session.");return e[ge].ended?0:1}},XRSpace:N,XRReferenceSpace:U,XRReferenceSpaceEvent:Se,XRInputSource:Ee,XRInputSourceEvent:Ae,XRInputSourcesChangeEvent:ve,XRRenderState:ae,XRRigidTransform:L,XRPose:W};const Re=e=>"function"!=typeof e.prototype.makeXRCompatible&&(e.prototype.makeXRCompatible=function(){return this[ue]=!0,Promise.resolve()},!0),_e=e=>{const t=e.prototype.getContext;e.prototype.getContext=function(e,r){const i=t.call(this,e,r);return i&&(i[le]=!0,r&&"xrCompatible"in r&&(i[ue]=r.xrCompatible)),i}};var Fe="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};var Te,Pe,Ie,Ce=(Te=function(e,t){e.exports=function(){var e,t,r,i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(){function e(e,t){var r=[],i=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(l){n=!0,s=l}finally{try{!i&&a.return&&a.return()}finally{if(n)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=.001,a=1,l=function(e,t){return"data:"+e+","+encodeURIComponent(t)},u=function(e,t,r){return e+(t-e)*r},c=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),h=function(){var e=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return e}}(),d=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),A=function(){var e=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return e}}(),f=(t=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),r=t?parseInt(t[1],10):null,function(){return r}),p=function(){var e=!1;return e=c()&&d()&&-1!==navigator.userAgent.indexOf("13_4"),function(){return e}}(),m=function(){var e=!1;if(65===f()){var t=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(t){var r=t[1].split("."),i=s(r,4),n=(i[0],i[1],i[2]),o=i[3];e=3325===parseInt(n,10)&&parseInt(o,10)<148}}return function(){return e}}(),v=function(){var e=-1!==navigator.userAgent.indexOf("R7 Build");return function(){return e}}(),g=function(){var e=90==window.orientation||-90==window.orientation;return v()?!e:e},y=function(e){return!(isNaN(e)||e<=o||e>a)},w=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},b=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},E=function(e){if(h())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},x=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},S=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},M=function(e,t,r,i){var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t),e.compileShader(n);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,r),e.compileShader(s);var o=e.createProgram();for(var a in e.attachShader(o,n),e.attachShader(o,s),i)e.bindAttribLocation(o,i[a],a);return e.linkProgram(o),e.deleteShader(n),e.deleteShader(s),o},R=function(e,t){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n="",s=0;s<i;s++)r[n=e.getActiveUniform(t,s).name.replace("[0]","")]=e.getUniformLocation(t,n);return r},_=function(e,t,r,i,n,s,o){var a=1/(t-r),l=1/(i-n),u=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*a,e[13]=(n+i)*l,e[14]=(o+s)*u,e[15]=1,e},F=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},T=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},P=function(e){if(c()){var t=e.style.width,r=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(r)+"px",setTimeout((function(){e.style.width=t,e.style.height=r}),100)}window.canvas=e},I=function(){var e=Math.PI/180,t=.25*Math.PI;function r(r,i,n,s){var o=Math.tan(i?i.upDegrees*e:t),a=Math.tan(i?i.downDegrees*e:t),l=Math.tan(i?i.leftDegrees*e:t),u=Math.tan(i?i.rightDegrees*e:t),c=2/(l+u),h=2/(o+a);return r[0]=c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=h,r[6]=0,r[7]=0,r[8]=-(l-u)*c*.5,r[9]=(o-a)*h*.5,r[10]=s/(n-s),r[11]=-1,r[12]=0,r[13]=0,r[14]=s*n/(n-s),r[15]=0,r}function i(e,t,r){var i=t[0],n=t[1],s=t[2],o=t[3],a=i+i,l=n+n,u=s+s,c=i*a,h=i*l,d=i*u,A=n*l,f=n*u,p=s*u,m=o*a,v=o*l,g=o*u;return e[0]=1-(A+p),e[1]=h+g,e[2]=d-v,e[3]=0,e[4]=h-g,e[5]=1-(c+p),e[6]=f+m,e[7]=0,e[8]=d+v,e[9]=f-m,e[10]=1-(c+A),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function n(e,t,r){var i,n,s,o,a,l,u,c,h,d,A,f,p=r[0],m=r[1],v=r[2];return t===e?(e[12]=t[0]*p+t[4]*m+t[8]*v+t[12],e[13]=t[1]*p+t[5]*m+t[9]*v+t[13],e[14]=t[2]*p+t[6]*m+t[10]*v+t[14],e[15]=t[3]*p+t[7]*m+t[11]*v+t[15]):(i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],A=t[10],f=t[11],e[0]=i,e[1]=n,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=u,e[7]=c,e[8]=h,e[9]=d,e[10]=A,e[11]=f,e[12]=i*p+a*m+h*v+t[12],e[13]=n*p+l*m+d*v+t[13],e[14]=s*p+u*m+A*v+t[14],e[15]=o*p+c*m+f*v+t[15]),e}function s(e,t){var r=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=t[9],d=t[10],A=t[11],f=t[12],p=t[13],m=t[14],v=t[15],g=r*a-i*o,y=r*l-n*o,w=r*u-s*o,b=i*l-n*a,E=i*u-s*a,x=n*u-s*l,S=c*p-h*f,M=c*m-d*f,R=c*v-A*f,_=h*m-d*p,F=h*v-A*p,T=d*v-A*m,P=g*T-y*F+w*_+b*R-E*M+x*S;return P?(P=1/P,e[0]=(a*T-l*F+u*_)*P,e[1]=(n*F-i*T-s*_)*P,e[2]=(p*x-m*E+v*b)*P,e[3]=(d*E-h*x-A*b)*P,e[4]=(l*R-o*T-u*M)*P,e[5]=(r*T-n*R+s*M)*P,e[6]=(m*w-f*x-v*y)*P,e[7]=(c*x-d*w+A*y)*P,e[8]=(o*F-a*R+u*S)*P,e[9]=(i*R-r*F-s*S)*P,e[10]=(f*E-p*w+v*g)*P,e[11]=(h*w-c*E-A*g)*P,e[12]=(a*M-o*_-l*S)*P,e[13]=(r*_-i*M+n*S)*P,e[14]=(p*y-f*b-m*g)*P,e[15]=(c*b-h*y+d*g)*P,e):null}var o=new Float32Array([0,0,0,1]),a=new Float32Array([0,0,0]);function l(e,t,l,u,c,h){r(e,u||null,h.depthNear,h.depthFar),i(t,l.orientation||o,l.position||a),c&&n(t,t,c),s(t,t)}return function(e,t,r){return!(!e||!t||(e.pose=t,e.timestamp=t.timestamp,l(e.leftProjectionMatrix,e.leftViewMatrix,t,r._getFieldOfView("left"),r._getEyeOffset("left"),r),l(e.rightProjectionMatrix,e.rightViewMatrix,t,r._getFieldOfView("right"),r._getEyeOffset("right"),r),0))}}(),C=function(){var e=window.self!==window.top,t=B(document.referrer),r=B(window.location.href);return e&&t!==r},B=function(e){var t,r=e.indexOf("://");t=-1!==r?r+3:0;var i=e.indexOf("/",t);return-1===i&&(i=e.length),e.substring(0,i)},D=function(e){return e.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(e.w)},L=(e={},function(t,r){void 0===e[t]&&(console.warn("webvr-polyfill: "+r),e[t]=!0)}),O=function(e,t){L(e,e+" has been deprecated. This may not work on native WebVR displays. "+(t?"Please use "+t+" instead.":""))};function N(e,t,r){if(t){for(var i=[],n=null,s=0;s<t.length;++s)switch(o=t[s]){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:if((l=t[++s])<e.TEXTURE0||l>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),i.push(null,null);break}n||(n=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(l),i.push(e.getParameter(o),null);break;case e.ACTIVE_TEXTURE:n=e.getParameter(e.ACTIVE_TEXTURE),i.push(null);break;default:i.push(e.getParameter(o))}for(r(e),s=0;s<t.length;++s){var o=t[s],a=i[s];switch(o){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,a);break;case e.COLOR_CLEAR_VALUE:e.clearColor(a[0],a[1],a[2],a[3]);break;case e.COLOR_WRITEMASK:e.colorMask(a[0],a[1],a[2],a[3]);break;case e.CURRENT_PROGRAM:e.useProgram(a);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,a);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,a);break;case e.TEXTURE_BINDING_2D:if((l=t[++s])<e.TEXTURE0||l>e.TEXTURE31)break;e.activeTexture(l),e.bindTexture(e.TEXTURE_2D,a);break;case e.TEXTURE_BINDING_CUBE_MAP:var l;if((l=t[++s])<e.TEXTURE0||l>e.TEXTURE31)break;e.activeTexture(l),e.bindTexture(e.TEXTURE_CUBE_MAP,a);break;case e.VIEWPORT:e.viewport(a[0],a[1],a[2],a[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:a?e.enable(o):e.disable(o);break;default:console.log("No GL restore behavior for 0x"+o.toString(16))}n&&e.activeTexture(n)}}else r(e)}var k=N,G=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),U=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function Q(e,t,r,i){this.gl=e,this.cardboardUI=t,this.bufferScale=r,this.dirtySubmitFrameBindings=i,this.ctxAttribs=e.getContextAttributes(),this.instanceExt=e.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,c()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=M(e,G,U,this.attribs),this.uniforms=R(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize()}Q.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},Q.prototype.onResize=function(){var e=this.gl,t=this,r=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];k(e,r,(function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},Q.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,r=this.gl;c()||(t.width=w()*this.bufferScale,t.height=b()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(r){e.bufferWidth=r,e.realCanvasWidth.set.call(t,r),e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(r){e.bufferHeight=r,e.realCanvasHeight.set.call(t,r),e.onResize()}})),this.lastBoundFramebuffer=r.getParameter(r.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,i){e.lastBoundFramebuffer=i||e.framebuffer,e.realBindFramebuffer.call(r,t,e.lastBoundFramebuffer)},this.cullFace=r.getParameter(r.CULL_FACE),this.depthTest=r.getParameter(r.DEPTH_TEST),this.blend=r.getParameter(r.BLEND),this.scissorTest=r.getParameter(r.SCISSOR_TEST),this.stencilTest=r.getParameter(r.STENCIL_TEST),r.enable=function(t){switch(t){case r.CULL_FACE:e.cullFace=!0;break;case r.DEPTH_TEST:e.depthTest=!0;break;case r.BLEND:e.blend=!0;break;case r.SCISSOR_TEST:e.scissorTest=!0;break;case r.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(r,t)},r.disable=function(t){switch(t){case r.CULL_FACE:e.cullFace=!1;break;case r.DEPTH_TEST:e.depthTest=!1;break;case r.BLEND:e.blend=!1;break;case r.SCISSOR_TEST:e.scissorTest=!1;break;case r.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(r,t)},this.colorMask=r.getParameter(r.COLOR_WRITEMASK),r.colorMask=function(t,i,n,s){e.colorMask[0]=t,e.colorMask[1]=i,e.colorMask[2]=n,e.colorMask[3]=s,e.realColorMask.call(r,t,i,n,s)},this.clearColor=r.getParameter(r.COLOR_CLEAR_VALUE),r.clearColor=function(t,i,n,s){e.clearColor[0]=t,e.clearColor[1]=i,e.clearColor[2]=n,e.clearColor[3]=s,e.realClearColor.call(r,t,i,n,s)},this.viewport=r.getParameter(r.VIEWPORT),r.viewport=function(t,i,n,s){e.viewport[0]=t,e.viewport[1]=i,e.viewport[2]=n,e.viewport[3]=s,e.realViewport.call(r,t,i,n,s)},this.isPatched=!0,P(t)}},Q.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;c()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout((function(){P(t)}),1)}},Q.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},Q.prototype.submitFrame=function(){var e=this.gl,t=this,r=[];if(this.dirtySubmitFrameBindings||r.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),k(e,r,(function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null);var r=0,i=0;t.instanceExt&&(r=e.getVertexAttrib(t.attribs.position,t.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),i=e.getVertexAttrib(t.attribs.texCoord,t.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||c())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),t.instanceExt&&(0!=r&&t.instanceExt.vertexAttribDivisorANGLE(t.attribs.position,0),0!=i&&t.instanceExt.vertexAttribDivisorANGLE(t.attribs.texCoord,0)),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),t.dirtySubmitFrameBindings||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor),t.instanceExt&&(0!=r&&t.instanceExt.vertexAttribDivisorANGLE(t.attribs.position,r),0!=i&&t.instanceExt.vertexAttribDivisorANGLE(t.attribs.texCoord,i))})),c()){var i=e.canvas;i.width==t.bufferWidth&&i.height==t.bufferHeight||(t.bufferWidth=i.width,t.bufferHeight=i.height,t.onResize())}},Q.prototype.updateDeviceInfo=function(e){var t=this.gl,r=this,i=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];k(t,i,(function(t){var i=r.computeMeshVertices_(r.meshWidth,r.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,r.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),!r.indexCount){var n=r.computeMeshIndices_(r.meshWidth,r.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),r.indexCount=n.length}}))},Q.prototype.computeMeshVertices_=function(e,t,r){for(var i=new Float32Array(2*e*t*5),n=r.getLeftEyeVisibleTanAngles(),s=r.getLeftEyeNoLensTanAngles(),o=r.getLeftEyeVisibleScreenRect(s),a=0,l=0;l<2;l++){for(var c=0;c<t;c++)for(var h=0;h<e;h++,a++){var d=h/(e-1),A=c/(t-1),f=d,p=A,m=u(n[0],n[2],d),v=u(n[3],n[1],A),g=Math.sqrt(m*m+v*v),y=r.distortion.distortInverse(g),w=v*y/g;d=(m*y/g-s[0])/(s[2]-s[0]),A=(w-s[3])/(s[1]-s[3]),d=2*(o.x+d*o.width-.5),A=2*(o.y+A*o.height-.5),i[5*a+0]=d,i[5*a+1]=A,i[5*a+2]=f,i[5*a+3]=p,i[5*a+4]=l}var b=n[2]-n[0];n[0]=-(b+n[0]),n[2]=b-n[2],b=s[2]-s[0],s[0]=-(b+s[0]),s[2]=b-s[2],o.x=1-(o.x+o.width)}return i},Q.prototype.computeMeshIndices_=function(e,t){for(var r=new Uint16Array(2*(e-1)*(t-1)*6),i=e/2,n=t/2,s=0,o=0,a=0;a<2;a++)for(var l=0;l<t;l++)for(var u=0;u<e;u++,s++)0!=u&&0!=l&&(u<=i==l<=n?(r[o++]=s,r[o++]=s-e-1,r[o++]=s-e,r[o++]=s-e-1,r[o++]=s,r[o++]=s-1):(r[o++]=s-1,r[o++]=s-e,r[o++]=s,r[o++]=s-e,r[o++]=s-1,r[o++]=s-e-1));return r},Q.prototype.getOwnPropertyDescriptor_=function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return void 0!==r.get&&void 0!==r.set||(r.configurable=!0,r.enumerable=!0,r.get=function(){return this.getAttribute(t)},r.set=function(e){this.setAttribute(t,e)}),r};var V=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),z=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),H=Math.PI/180,j=60,X=12,W=20,q=1,Y=.75,Z=.3125,J=4,K=28,$=1.5;function ee(e){this.gl=e,this.attribs={position:0},this.program=M(e,V,z,this.attribs),this.uniforms=R(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function te(e){this.coefficients=e}ee.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},ee.prototype.listen=function(e,t){var r=this.gl.canvas;this.listener=function(i){var n=r.clientWidth/2,s=K*$;i.clientX>n-s&&i.clientX<n+s&&i.clientY>r.clientHeight-s?e(i):i.clientX<s&&i.clientY<s&&t(i)},r.addEventListener("click",this.listener,!1)},ee.prototype.onResize=function(){var e=this.gl,t=this,r=[e.ARRAY_BUFFER_BINDING];k(e,r,(function(e){var r=[],i=e.drawingBufferWidth/2,n=Math.max(screen.width,screen.height)*window.devicePixelRatio,s=e.drawingBufferWidth/n*window.devicePixelRatio,o=J*s/2,a=K*$*s,l=K*s/2,u=(K*$-K)*s;function c(e,t){var n=(90-e)*H,s=Math.cos(n),o=Math.sin(n);r.push(Z*s*l+i,Z*o*l+l),r.push(t*s*l+i,t*o*l+l)}r.push(i-o,a),r.push(i-o,e.drawingBufferHeight),r.push(i+o,a),r.push(i+o,e.drawingBufferHeight),t.gearOffset=r.length/2;for(var h=0;h<=6;h++){var d=h*j;c(d,q),c(d+X,q),c(d+W,Y),c(d+(j-W),Y),c(d+(j-X),q)}function A(t,i){r.push(u+t,e.drawingBufferHeight-u-i)}t.gearVertexCount=r.length/2-t.gearOffset,t.arrowOffset=r.length/2;var f=o/Math.sin(45*H);A(0,l),A(l,0),A(l+f,f),A(f,l+f),A(f,l-f),A(0,l),A(l,2*l),A(l+f,2*l-f),A(f,l-f),A(0,l),A(f,l-o),A(K*s,l-o),A(f,l+o),A(K*s,l+o),t.arrowVertexCount=r.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)}))},ee.prototype.render=function(){var e=this.gl,t=this,r=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];k(e,r,(function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()}))},ee.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),_(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},te.prototype.distortInverse=function(e){for(var t=0,r=1,i=e-this.distort(t);Math.abs(r-t)>1e-4;){var n=e-this.distort(r),s=r-n*((r-t)/(n-i));t=r,r=s,i=n}return r},te.prototype.distort=function(e){for(var t=e*e,r=0,i=0;i<this.coefficients.length;i++)r=t*(r+this.coefficients[i]);return(r+1)*e};var re=Math.PI/180,ie=180/Math.PI,ne=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0};ne.prototype={constructor:ne,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,r=this.y,i=this.z,n=e.x,s=e.y,o=e.z,a=e.w,l=a*t+s*i-o*r,u=a*r+o*t-n*i,c=a*i+n*r-s*t,h=-n*t-s*r-o*i;return this.x=l*a+h*-n+u*-o-c*-s,this.y=u*a+h*-s+c*-n-l*-o,this.z=c*a+h*-o+l*-s-u*-n,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var r=e.x,i=e.y,n=e.z,s=t.x,o=t.y,a=t.z;return this.x=i*a-n*o,this.y=n*s-r*a,this.z=r*o-i*s,this}};var se,oe,ae,le=function(e,t,r,i){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==i?i:1};function ue(e){this.width=e.width||w(),this.height=e.height||b(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}le.prototype={constructor:le,set:function(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,r){var i=Math.cos(e/2),n=Math.cos(t/2),s=Math.cos(r/2),o=Math.sin(e/2),a=Math.sin(t/2),l=Math.sin(r/2);return this.x=o*n*s+i*a*l,this.y=i*a*s-o*n*l,this.z=i*n*l+o*a*s,this.w=i*n*s-o*a*l,this},setFromEulerYXZ:function(e,t,r){var i=Math.cos(e/2),n=Math.cos(t/2),s=Math.cos(r/2),o=Math.sin(e/2),a=Math.sin(t/2),l=Math.sin(r/2);return this.x=o*n*s+i*a*l,this.y=i*a*s-o*n*l,this.z=i*n*l-o*a*s,this.w=i*n*s+o*a*l,this},setFromAxisAngle:function(e,t){var r=t/2,i=Math.sin(r);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(r),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e.x,i=e.y,n=e.z,s=e.w,o=t.x,a=t.y,l=t.z,u=t.w;return this.x=r*u+s*o+i*l-n*a,this.y=i*u+s*a+n*o-r*l,this.z=n*u+s*l+r*a-i*o,this.w=s*u-r*o-i*a-n*l,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this.x,i=this.y,n=this.z,s=this.w,o=s*e.w+r*e.x+i*e.y+n*e.z;if(o<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,o=-o):this.copy(e),o>=1)return this.w=s,this.x=r,this.y=i,this.z=n,this;var a=Math.acos(o),l=Math.sqrt(1-o*o);if(Math.abs(l)<.001)return this.w=.5*(s+this.w),this.x=.5*(r+this.x),this.y=.5*(i+this.y),this.z=.5*(n+this.z),this;var u=Math.sin((1-t)*a)/l,c=Math.sin(t*a)/l;return this.w=s*u+this.w*c,this.x=r*u+this.x*c,this.y=i*u+this.y*c,this.z=n*u+this.z*c,this},setFromUnitVectors:(ae=1e-6,function(e,t){return void 0===se&&(se=new ne),(oe=e.dot(t)+1)<ae?(oe=0,Math.abs(e.x)>Math.abs(e.z)?se.set(-e.y,e.x,0):se.set(0,-e.z,e.y)):se.crossVectors(e,t),this.x=se.x,this.y=se.y,this.z=se.z,this.w=oe,this.normalize(),this})};var ce=new ue({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),he=new ue({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),de={CardboardV1:new fe({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new fe({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function Ae(e,t){this.viewer=de.CardboardV2,this.updateDeviceParams(e),this.distortion=new te(this.viewer.distortionCoefficients);for(var r=0;r<t.length;r++){var i=t[r];de[i.id]=new fe(i)}}function fe(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}Ae.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},Ae.prototype.getDevice=function(){return this.device},Ae.prototype.setViewer=function(e){this.viewer=e,this.distortion=new te(this.viewer.distortionCoefficients)},Ae.prototype.determineDevice_=function(e){if(!e)return c()?(console.warn("Using fallback iOS device measurements."),he):(console.warn("Using fallback Android device measurements."),ce);var t=.0254,r=t/e.xdpi,i=t/e.ydpi;return new ue({widthMeters:r*w(),heightMeters:i*b(),bevelMeters:.001*e.bevelMm})},Ae.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,r=this.distortion,i=e.screenLensDistance,n=(t.widthMeters-e.interLensDistance)/2,s=e.interLensDistance/2,o=e.baselineLensDistance-t.bevelMeters,a=t.heightMeters-o,l=ie*Math.atan(r.distort(n/i)),u=ie*Math.atan(r.distort(s/i)),c=ie*Math.atan(r.distort(o/i)),h=ie*Math.atan(r.distort(a/i));return{leftDegrees:Math.min(l,e.fov),rightDegrees:Math.min(u,e.fov),downDegrees:Math.min(c,e.fov),upDegrees:Math.min(h,e.fov)}},Ae.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,r=this.distortion,i=Math.tan(-re*e.fov),n=Math.tan(re*e.fov),s=Math.tan(re*e.fov),o=Math.tan(-re*e.fov),a=t.widthMeters/4,l=t.heightMeters/2,u=e.baselineLensDistance-t.bevelMeters-l,c=e.interLensDistance/2-a,h=-u,d=e.screenLensDistance,A=r.distort((c-a)/d),f=r.distort((h+l)/d),p=r.distort((c+a)/d),m=r.distort((h-l)/d),v=new Float32Array(4);return v[0]=Math.max(i,A),v[1]=Math.min(n,f),v[2]=Math.min(s,p),v[3]=Math.max(o,m),v},Ae.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,r=this.distortion,i=new Float32Array(4),n=r.distortInverse(Math.tan(-re*e.fov)),s=r.distortInverse(Math.tan(re*e.fov)),o=r.distortInverse(Math.tan(re*e.fov)),a=r.distortInverse(Math.tan(-re*e.fov)),l=t.widthMeters/4,u=t.heightMeters/2,c=e.baselineLensDistance-t.bevelMeters-u,h=e.interLensDistance/2-l,d=-c,A=e.screenLensDistance,f=(h-l)/A,p=(d+u)/A,m=(h+l)/A,v=(d-u)/A;return i[0]=Math.max(n,f),i[1]=Math.min(s,p),i[2]=Math.min(o,m),i[3]=Math.max(a,v),i},Ae.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,r=this.device,i=t.screenLensDistance,n=(r.widthMeters-t.interLensDistance)/2,s=t.baselineLensDistance-r.bevelMeters,o=(e[0]*i+n)/r.widthMeters,a=(e[1]*i+s)/r.heightMeters,l=(e[2]*i+n)/r.widthMeters,u=(e[3]*i+s)/r.heightMeters;return{x:o,y:u,width:l-o,height:a-u}},Ae.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},Ae.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},Ae.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:ie*Math.atan(e.outerDist),rightDegrees:ie*Math.atan(e.innerDist),downDegrees:ie*Math.atan(e.bottomDist),upDegrees:ie*Math.atan(e.topDist)}},Ae.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,r=this.device,i=t.screenLensDistance,n=r.widthMeters/i,s=r.heightMeters/i,o=r.width/n,a=r.height/s,l=Math.round((e.eyePosX-e.outerDist)*o),u=Math.round((e.eyePosY-e.bottomDist)*a);return{x:l,y:u,width:Math.round((e.eyePosX+e.innerDist)*o)-l,height:Math.round((e.eyePosY+e.topDist)*a)-u}},Ae.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,r=this.distortion,i=e.screenLensDistance,n=e.interLensDistance/2/i,s=t.widthMeters/i,o=t.heightMeters/i,a=s/2-n,l=(e.baselineLensDistance-t.bevelMeters)/i,u=e.fov,c=r.distortInverse(Math.tan(re*u)),h=Math.min(a,c),d=Math.min(n,c),A=Math.min(l,c);return{outerDist:h,innerDist:d,topDist:Math.min(o-l,c),bottomDist:A,eyePosX:a,eyePosY:l}},Ae.Viewers=de;var pe={format:1,last_updated:"2019-11-09T17:36:14Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}]};function me(e,t){if(this.dpdb=pe,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var r=new XMLHttpRequest,i=this;r.open("GET",e,!0),r.addEventListener("load",(function(){i.loading=!1,r.status>=200&&r.status<=299?(i.dpdb=JSON.parse(r.response),i.recalculateDeviceParams_()):console.error("Error loading online DPDB!")})),r.send()}}function ve(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}function ge(e,t){this.set(e,t)}function ye(e,t){this.kFilter=e,this.isDebug=t,this.currentAccelMeasurement=new ge,this.currentGyroMeasurement=new ge,this.previousGyroMeasurement=new ge,c()?this.filterQ=new le(-1,0,0,1):this.filterQ=new le(1,0,0,1),this.previousFilterQ=new le,this.previousFilterQ.copy(this.filterQ),this.accelQ=new le,this.isOrientationInitialized=!1,this.estimatedGravity=new ne,this.measuredGravity=new ne,this.gyroIntegralQ=new le}function we(e,t){this.predictionTimeS=e,this.isDebug=t,this.previousQ=new le,this.previousTimestampS=null,this.deltaQ=new le,this.outQ=new le}function be(e,t,r,i){this.yawOnly=r,this.accelerometer=new ne,this.gyroscope=new ne,this.filter=new ye(e,i),this.posePredictor=new we(t,i),this.isFirefoxAndroid=A(),this.isIOS=c();var n=f();this.isDeviceMotionInRadians=!this.isIOS&&n&&n<66,this.isWithoutDeviceMotion=m()||p(),this.filterToWorldQ=new le,c()?this.filterToWorldQ.setFromAxisAngle(new ne(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new ne(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new le,this.worldToScreenQ=new le,this.originalPoseAdjustQ=new le,this.originalPoseAdjustQ.setFromAxisAngle(new ne(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),g()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new le,this.orientationOut_=new Float32Array(4),this.start()}me.prototype.getDeviceParams=function(){return this.deviceParams},me.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},me.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,r=w(),i=b();if(!e.devices)return console.error("DPDB has no devices section."),null;for(var n=0;n<e.devices.length;n++){var s=e.devices[n];if(s.rules)if("ios"==s.type||"android"==s.type){if(c()==("ios"==s.type)){for(var o=!1,a=0;a<s.rules.length;a++){var l=s.rules[a];if(this.ruleMatches_(l,t,r,i)){o=!0;break}}if(o)return new ve({xdpi:s.dpi[0]||s.dpi,ydpi:s.dpi[1]||s.dpi,bevelMm:s.bw})}}else console.warn("Device["+n+"] has invalid type.");else console.warn("Device["+n+"] has no rules section.")}return console.warn("No DPDB device match."),null},me.prototype.ruleMatches_=function(e,t,r,i){if(!e.ua&&!e.res)return!1;if(e.ua&&"SM"===e.ua.substring(0,2)&&(e.ua=e.ua.substring(0,7)),e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var n=e.res[0],s=e.res[1];if(Math.min(r,i)!=Math.min(n,s)||Math.max(r,i)!=Math.max(n,s))return!1}return!0},ge.prototype.set=function(e,t){this.sample=e,this.timestampS=t},ge.prototype.copy=function(e){this.set(e.sample,e.timestampS)},ye.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},ye.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var r=t-this.previousGyroMeasurement.timestampS;y(r)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},ye.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var r=new le;r.copy(this.filterQ),r.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(r),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var i=new le;i.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),i.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",ie*D(i),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var n=new le;n.copy(this.filterQ),n.multiply(i),this.filterQ.slerp(n,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},ye.prototype.getOrientation=function(){return this.filterQ},ye.prototype.accelToQuaternion_=function(e){var t=new ne;t.copy(e),t.normalize();var r=new le;return r.setFromUnitVectors(new ne(0,0,-1),t),r.inverse(),r},ye.prototype.gyroToQuaternionDelta_=function(e,t){var r=new le,i=new ne;return i.copy(e),i.normalize(),r.setFromAxisAngle(i,e.length()*t),r},we.prototype.getPrediction=function(e,t,r){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=r,e;var i=new ne;i.copy(t),i.normalize();var n=t.length();if(n<20*re)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(ie*n).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var s=n*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(i,s),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=r,this.outQ},be.prototype.getPosition=function(){return null},be.prototype.getOrientation=function(){var e=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||(r=(new le).setFromAxisAngle(new ne(0,0,-1),0),i=new le,-90===window.orientation?i.setFromAxisAngle(new ne(0,1,0),Math.PI/-2):i.setFromAxisAngle(new ne(0,1,0),Math.PI/2),r.multiply(i)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||((t=new le).setFromAxisAngle(new ne(1,0,0),-Math.PI/2),t),e=this._deviceOrientationQ,(n=new le).copy(e),n.multiply(this.deviceOrientationFilterToWorldQ),n.multiply(this.resetQ),n.multiply(this.worldToScreenQ),n.multiplyQuaternions(this.deviceOrientationFixQ,n),this.yawOnly&&(n.x=0,n.z=0,n.normalize()),this.orientationOut_[0]=n.x,this.orientationOut_[1]=n.y,this.orientationOut_[2]=n.z,this.orientationOut_[3]=n.w,this.orientationOut_;var t,r,i,n,s=this.filter.getOrientation();return e=this.posePredictor.getPrediction(s,this.gyroscope,this.previousTimestampS),(n=new le).copy(this.filterToWorldQ),n.multiply(this.resetQ),n.multiply(e),n.multiply(this.worldToScreenQ),this.yawOnly&&(n.x=0,n.z=0,n.normalize()),this.orientationOut_[0]=n.x,this.orientationOut_[1]=n.y,this.orientationOut_[2]=n.z,this.orientationOut_[3]=n.w,this.orientationOut_},be.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),g()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},be.prototype.onDeviceOrientation_=function(e){this._deviceOrientationQ=this._deviceOrientationQ||new le;var t=e.alpha,r=e.beta,i=e.gamma;t=(t||0)*Math.PI/180,r=(r||0)*Math.PI/180,i=(i||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(r,t,-i)},be.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},be.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,r=e.rotationRate,i=e.timeStamp/1e3,n=i-this.previousTimestampS;return n<0?(L("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=i)):n<=o||n>a?(L("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=i)):(this.accelerometer.set(-t.x,-t.y,-t.z),r&&(v()?this.gyroscope.set(-r.beta,r.alpha,r.gamma):this.gyroscope.set(r.alpha,r.beta,r.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,i)),this.filter.addAccelMeasurement(this.accelerometer,i),void(this.previousTimestampS=i))},be.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},be.prototype.onMessage_=function(e){var t=e.data;t&&t.type&&"devicemotion"===t.type.toLowerCase()&&this.updateDeviceMotion_(t.deviceMotionEvent)},be.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new ne(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new ne(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},be.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),c()&&C()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},be.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var Ee=60,xe=new ne(1,0,0),Se=new ne(0,0,1),Me=new le;Me.setFromAxisAngle(xe,-Math.PI/2),Me.multiply((new le).setFromAxisAngle(Se,Math.PI/2));var Re=function(){function e(t){i(this,e),this.config=t,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new le,this._outQ=new le,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return n(e,[{key:"init",value:function(){var e=null;try{(e=new RelativeOrientationSensor({frequency:Ee,referenceFrame:"screen"})).addEventListener("error",this._onSensorError)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}e&&(this.api="sensor",this.sensor=e,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new be(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var e=this.sensor.quaternion;this._sensorQ.set(e[0],e[1],e[2],e[3]);var t=this._outQ;return t.copy(Me),t.multiply(this._sensorQ),this.config.YAW_ONLY&&(t.x=t.z=0,t.normalize()),this._out[0]=t.x,this._out[1]=t.y,this._out[2]=t.z,this._out[3]=t.w,this._out}},{key:"_onSensorError",value:function(e){this.errors.push(e.error),"NotAllowedError"===e.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===e.error.name?console.error("Sensor could not be read"):console.error(e.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),e}(),_e="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function Te(){this.loadIcon_();var e=document.createElement("div");(s=e.style).position="fixed",s.top=0,s.right=0,s.bottom=0,s.left=0,s.backgroundColor="gray",s.fontFamily="sans-serif",s.zIndex=1e6;var t=document.createElement("img");t.src=this.icon,(s=t.style).marginLeft="25%",s.marginTop="25%",s.width="50%",e.appendChild(t);var r=document.createElement("div");(s=r.style).textAlign="center",s.fontSize="16px",s.lineHeight="24px",s.margin="24px 25%",s.width="50%",r.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(r);var i=document.createElement("div");(s=i.style).backgroundColor="#CFD8DC",s.position="fixed",s.bottom=0,s.width="100%",s.height="48px",s.padding="14px 24px",s.boxSizing="border-box",s.color="#656A6B",e.appendChild(i);var n=document.createElement("div");n.style.float="left",n.innerHTML="No Cardboard viewer?";var s,o=document.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="_blank",(s=o.style).float="right",s.fontWeight=600,s.textTransform="uppercase",s.borderLeft="1px solid gray",s.paddingLeft="24px",s.textDecoration="none",s.color="#656A6B",i.appendChild(n),i.appendChild(o),this.overlay=e,this.text=r,this.hide()}Te.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img").style;g()?(t.width="20%",t.marginLeft="40%",t.marginTop="3%"):(t.width="50%",t.marginLeft="25%",t.marginTop="25%")},Te.prototype.hide=function(){this.overlay.style.display="none"},Te.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},Te.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},Te.prototype.update=function(){this.disableShowTemporarily(),!g()&&F()?this.show():this.hide()},Te.prototype.loadIcon_=function(){this.icon=l("image/svg+xml",_e)};var Pe="CardboardV1",Ie="WEBVR_CARDBOARD_VIEWER",Ce="webvr-polyfill-viewer-selector";function Be(e){try{this.selectedKey=localStorage.getItem(Ie)}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=e||Pe),this.dialog=this.createDialog_(Ae.Viewers),this.root=null,this.onChangeCallbacks_=[]}function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Le(e,t){return e(t={exports:{}},t.exports),t.exports}Be.prototype.show=function(e){this.root=e,e.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},Be.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Be.prototype.getCurrentViewer=function(){return Ae.Viewers[this.selectedKey]},Be.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},Be.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},Be.prototype.fireOnChange_=function(e){for(var t=0;t<this.onChangeCallbacks_.length;t++)this.onChangeCallbacks_[t](e)},Be.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&Ae.Viewers[this.selectedKey]){this.fireOnChange_(Ae.Viewers[this.selectedKey]);try{localStorage.setItem(Ie,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},Be.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add(Ce),t.style.display="none";var r=document.createElement("div");(s=r.style).position="fixed",s.left=0,s.top=0,s.width="100%",s.height="100%",s.background="rgba(0, 0, 0, 0.3)",r.addEventListener("click",this.hide.bind(this));var i=280,n=document.createElement("div"),s=n.style;for(var o in s.boxSizing="border-box",s.position="fixed",s.top="24px",s.left="50%",s.marginLeft=-i/2+"px",s.width=i+"px",s.padding="24px",s.overflow="hidden",s.background="#fafafa",s.fontFamily="'Roboto', sans-serif",s.boxShadow="0px 5px 20px #666",n.appendChild(this.createH1_("Select your viewer")),e)n.appendChild(this.createChoice_(o,e[o].label));return n.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(r),t.appendChild(n),t},Be.prototype.createH1_=function(e){var t=document.createElement("h1"),r=t.style;return r.color="black",r.fontSize="20px",r.fontWeight="bold",r.marginTop=0,r.marginBottom="24px",t.innerHTML=e,t},Be.prototype.createChoice_=function(e,t){var r=document.createElement("div");r.style.marginTop="8px",r.style.color="black";var i=document.createElement("input");i.style.fontSize="30px",i.setAttribute("id",e),i.setAttribute("type","radio"),i.setAttribute("value",e),i.setAttribute("name","field");var n=document.createElement("label");return n.style.marginLeft="4px",n.setAttribute("for",e),n.innerHTML=t,r.appendChild(i),r.appendChild(n),r},Be.prototype.createButton_=function(e,t){var r=document.createElement("button");r.innerHTML=e;var i=r.style;return i.float="right",i.textTransform="uppercase",i.color="#1094f7",i.fontSize="14px",i.letterSpacing=0,i.border=0,i.background="none",i.marginTop="16px",r.addEventListener("click",t),r},"undefined"!=typeof window?window:void 0!==Fe||"undefined"!=typeof self&&self;var Oe=Le((function(e,t){!function(t,r){e.exports=r()}(0,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=r(1),o="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,a=function(){function e(){n(this,e),o?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",s),this.noSleepVideo.addEventListener("timeupdate",(function(e){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}).bind(this)))}return i(e,[{key:"enable",value:function(){o?(this.disable(),this.noSleepTimer=window.setInterval((function(){window.location.href="/",window.setTimeout(window.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){o?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),e}();e.exports=a},function(e,t,r){e.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])}))})),Ne=De(Oe),ke=1e3,Ge=[0,0,.5,1],Ue=[.5,0,.5,1],Qe=window.requestAnimationFrame,Ve=window.cancelAnimationFrame;function ze(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function He(e){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:e.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:e.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:e.canPresent},maxLayers:{writable:!1,enumerable:!0,value:e.maxLayers},hasOrientation:{enumerable:!0,get:function(){return O("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),e.hasOrientation}}})}function je(e){var t=!("wakelock"in(e=e||{}))||e.wakelock;this.isPolyfilled=!0,this.displayId=ke++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return O("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new He({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,t&&F()&&(this.wakelock_=new Ne)}je.prototype.getFrameData=function(e){return I(e,this._getPose(),this)},je.prototype.getPose=function(){return O("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},je.prototype.resetPose=function(){return O("VRDisplay.prototype.resetPose"),this._resetPose()},je.prototype.getImmediatePose=function(){return O("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},je.prototype.requestAnimationFrame=function(e){return Qe(e)},je.prototype.cancelAnimationFrame=function(e){return Ve(e)},je.prototype.wrapForFullscreen=function(e){if(c())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=e,this.originalParent_=e.parentElement,this.originalParent_||document.body.appendChild(e),!this.fullscreenWrapper_.parentElement){var r=this.fullscreenElement_.parentElement;r.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),r.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var i=this;function n(){if(i.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];i.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}return n(),this.fullscreenWrapper_},je.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),this.originalParent_===t?t.insertBefore(e,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(e),t.removeChild(this.fullscreenWrapper_),e}},je.prototype.requestPresent=function(e){var t=this.isPresenting,r=this;return e instanceof Array||(O("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),e=[e]),new Promise((function(i,n){if(r.capabilities.canPresent)if(0==e.length||e.length>r.capabilities.maxLayers)n(new Error("Invalid number of layers."));else{var s=e[0];if(s.source){var o=s.leftBounds||Ge,a=s.rightBounds||Ue;if(t){var l=r.layer_;l.source!==s.source&&(l.source=s.source);for(var u=0;u<4;u++)l.leftBounds[u]=o[u],l.rightBounds[u]=a[u];return r.wrapForFullscreen(r.layer_.source),r.updatePresent_(),void i()}if(r.layer_={predistorted:s.predistorted,source:s.source,leftBounds:o.slice(0),rightBounds:a.slice(0)},r.waitingForPresent_=!1,r.layer_&&r.layer_.source){var d=r.wrapForFullscreen(r.layer_.source),A=function(){var e=S();r.isPresenting=d===e,r.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(e){console.error("screen.orientation.lock() failed due to",e.message)})),r.waitingForPresent_=!1,r.beginPresent_(),i()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),r.removeFullscreenWrapper(),r.disableWakeLock(),r.endPresent_(),r.removeFullscreenListeners_()),r.fireVRDisplayPresentChange_()},f=function(){r.waitingForPresent_&&(r.removeFullscreenWrapper(),r.removeFullscreenListeners_(),r.disableWakeLock(),r.waitingForPresent_=!1,r.isPresenting=!1,n(new Error("Unable to present.")))};r.addFullscreenListeners_(d,A,f),E(d)?(r.enableWakeLock(),r.waitingForPresent_=!0):(c()||h())&&(r.enableWakeLock(),r.isPresenting=!0,r.beginPresent_(),r.fireVRDisplayPresentChange_(),i())}r.waitingForPresent_||c()||(x(),n(new Error("Unable to present.")))}else i()}else n(new Error("VRDisplay is not capable of presenting."))}))},je.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise((function(r,i){e?(!x()&&c()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),h()&&(t.removeFullscreenWrapper(),t.removeFullscreenListeners_(),t.endPresent_(),t.fireVRDisplayPresentChange_()),r()):i(new Error("Was not presenting to VRDisplay."))}))},je.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},je.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},je.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(e)},je.prototype.addFullscreenListeners_=function(e,t,r){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=r,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),r&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",r,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",r,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",r,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",r,!1))},je.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var r=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",r,!1),e.removeEventListener("webkitfullscreenerror",r,!1),document.removeEventListener("mozfullscreenerror",r,!1),e.removeEventListener("msfullscreenerror",r,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},je.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},je.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},je.prototype.beginPresent_=function(){},je.prototype.endPresent_=function(){},je.prototype.submitFrame=function(e){},je.prototype.getEyeParameters=function(e){return null};var Xe={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},We={LEFT:"left",RIGHT:"right"};function qe(e){var t=T({},Xe);e=T(t,e||{}),je.call(this,{wakelock:e.MOBILE_WAKE_LOCK}),this.config=e,this.displayName="Cardboard VRDisplay",this.capabilities=new He({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new Re(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new me(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new Ae(this.dpdb_.getDeviceParams(),e.ADDITIONAL_VIEWERS),this.viewerSelector_=new Be(e.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new Te),c()&&window.addEventListener("resize",this.onResize_.bind(this))}return qe.prototype=Object.create(je.prototype),qe.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},qe.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},qe.prototype._getFieldOfView=function(e){var t;if(e==We.LEFT)t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=We.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return t},qe.prototype._getEyeOffset=function(e){var t;if(e==We.LEFT)t=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(e!=We.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return t},qe.prototype.getEyeParameters=function(e){var t=this._getEyeOffset(e),r=this._getFieldOfView(e),i={offset:t,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(i,"fieldOfView",{enumerable:!0,get:function(){return O("VRFieldOfView","VRFrameData's projection matrices"),r}}),i},qe.prototype.onDeviceParamsUpdated_=function(e){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},qe.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},qe.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(e.canvas.width=w()*this.bufferScale_,e.canvas.height=b()*this.bufferScale_,this.cardboardUI_=new ee(e)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new ee(e)),this.distorter_=new Q(e,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen((function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}).bind(this),(function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}).bind(this)),this.rotateInstructions_&&(g()&&F()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},qe.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},qe.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},qe.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl");t||(t=this.layer_.source.getContext("experimental-webgl")),t||(t=this.layer_.source.getContext("webgl2"));var r=t.canvas;r.width==this.lastWidth&&r.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=r.width,this.lastHeight=r.height,this.cardboardUI_.render()}},qe.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},qe.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl");t||(t=this.layer_.source.getContext("experimental-webgl")),t||(t=this.layer_.source.getContext("webgl2"));var r=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];t.canvas.setAttribute("style",r.join("; ")+";"),P(t.canvas)}},qe.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},qe.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},qe.VRFrameData=ze,qe.VRDisplay=je,qe}()},Te(Pe={exports:{}},Pe.exports),Pe.exports),Be=(Ie=Ce)&&Ie.__esModule&&Object.prototype.hasOwnProperty.call(Ie,"default")?Ie.default:Ie;class De extends s{constructor(e){super(),this.global=e,this.onWindowResize=this.onWindowResize.bind(this),this.global.window.addEventListener("resize",this.onWindowResize),this.environmentBlendMode="opaque"}onBaseLayerSet(e,t){throw new Error("Not implemented")}isSessionSupported(e){throw new Error("Not implemented")}isFeatureSupported(e){throw new Error("Not implemented")}async requestSession(e,t){throw new Error("Not implemented")}requestAnimationFrame(e){throw new Error("Not implemented")}onFrameStart(e){throw new Error("Not implemented")}onFrameEnd(e){throw new Error("Not implemented")}doesSessionSupportReferenceSpace(e,t){throw new Error("Not implemented")}requestStageBounds(){throw new Error("Not implemented")}async requestFrameOfReferenceTransform(e,t){}cancelAnimationFrame(e){throw new Error("Not implemented")}endSession(e){throw new Error("Not implemented")}getViewport(e,t,r,i){throw new Error("Not implemented")}getProjectionMatrix(e){throw new Error("Not implemented")}getBasePoseMatrix(){throw new Error("Not implemented")}getBaseViewMatrix(e){throw new Error("Not implemented")}getInputSources(){throw new Error("Not implemented")}getInputPose(e,t,r){throw new Error("Not implemented")}onWindowResize(){this.onWindowResize()}}let Le={mapping:"xr-standard",profiles:["oculus-go","generic-trigger-touchpad"],buttons:{length:3,0:1,1:null,2:0},gripTransform:{orientation:[.11*Math.PI,0,0,1]}},Oe={mapping:"xr-standard",displayProfiles:{"Oculus Quest":["oculus-touch-v2","oculus-touch","generic-trigger-squeeze-thumbstick"]},profiles:["oculus-touch","generic-trigger-squeeze-thumbstick"],axes:{length:4,0:null,1:null,2:0,3:1},buttons:{length:7,0:1,1:2,2:null,3:0,4:3,5:4,6:null},gripTransform:{position:[0,-.02,.04,1],orientation:[.11*Math.PI,0,0,1]}},Ne={mapping:"xr-standard",profiles:["htc-vive","generic-trigger-squeeze-touchpad"],displayProfiles:{"HTC Vive":["htc-vive","generic-trigger-squeeze-touchpad"],"HTC Vive DVT":["htc-vive","generic-trigger-squeeze-touchpad"],"Valve Index":["valve-index","generic-trigger-squeeze-touchpad-thumbstick"]},buttons:{length:3,0:1,1:2,2:0},gripTransform:{position:[0,0,.05,1]},targetRayTransform:{orientation:[-.08*Math.PI,0,0,1]},userAgentOverrides:{Firefox:{axes:{invert:[1,3]}}}},ke={mapping:"xr-standard",profiles:["samsung-gearvr","generic-trigger-touchpad"],buttons:{length:3,0:1,1:null,2:0},gripTransform:{orientation:[.11*Math.PI,0,0,1]}},Ge={mapping:"xr-standard",profiles:["samsung-odyssey","microsoft-mixed-reality","generic-trigger-squeeze-touchpad-thumbstick"],buttons:{length:4,0:1,1:0,2:2,3:4},gripTransform:{position:[0,-.02,.04,1],orientation:[.11*Math.PI,0,0,1]}},Ue={mapping:"xr-standard",profiles:["microsoft-mixed-reality","generic-trigger-squeeze-touchpad-thumbstick"],buttons:{length:4,0:1,1:0,2:2,3:4},gripTransform:{position:[0,-.02,.04,1],orientation:[.11*Math.PI,0,0,1]}},Qe={"Daydream Controller":{mapping:"",profiles:["google-daydream","generic-trigger-touchpad"],buttons:{length:3,0:null,1:null,2:0}},"Gear VR Controller":ke,"HTC Vive Focus Controller":{mapping:"xr-standard",profiles:["htc-vive-focus","generic-trigger-touchpad"],buttons:{length:3,0:1,1:null,2:0}},"Oculus Go Controller":Le,"Oculus Touch (Right)":Oe,"Oculus Touch (Left)":Oe,"OpenVR Gamepad":Ne,"Spatial Controller (Spatial Interaction Source) 045E-065A":Ue,"Spatial Controller (Spatial Interaction Source) 045E-065D":Ge,"Windows Mixed Reality (Right)":Ue,"Windows Mixed Reality (Left)":Ue};const Ve=v(.155,-.465,-.15),ze=v(-.155,-.465,-.15),He=v(0,0,-.25),je=v(0,0,.05),Xe=v(-.08,.14,.08),We=180/Math.PI;class qe{constructor(){this.hand="right",this.headElbowOffset=Ve,this.controllerQ=R(),this.lastControllerQ=R(),this.headQ=R(),this.headPos=p(),this.elbowPos=p(),this.wristPos=p(),this.time=null,this.lastTime=null,this.rootQ=R(),this.position=p()}setHandedness(e){this.hand!=e&&(this.hand=e,"left"==this.hand?this.headElbowOffset=ze:this.headElbowOffset=Ve)}update(e,t){this.time=j(),e&&(C(this.lastControllerQ,this.controllerQ),C(this.controllerQ,e)),t&&(d(this.headPos,t),A(this.headQ,t));let r=this.getHeadYawOrientation_(),i=this.quatAngle_(this.lastControllerQ,this.controllerQ);i/((this.time-this.lastTime)/1e3)>.61?F(this.rootQ,this.rootQ,r,Math.min(i/.175,1)):C(this.rootQ,r);let n=v(0,0,-1);S(n,n,this.controllerQ);let s=E(n,[0,1,0]),o=this.clamp_((s-.12)/.87,0,1),a=P(this.rootQ);T(a,a),_(a,a,this.controllerQ);let l=this.elbowPos;g(l,this.headPos),y(l,l,this.headElbowOffset);let u=m(Xe);w(u,u,o),y(l,l,u);let c=this.quatAngle_(a,R())*We,h=(1-Math.pow(c/180,4))*(.4+.6*o*.4),f=R();F(f,f,a,h);let p=T(R(),f),b=P(a);_(b,b,p);let x=this.wristPos;g(x,je),S(x,x,f),y(x,x,He),S(x,x,b),y(x,x,l);let M=m(Xe);w(M,M,o),y(this.position,this.wristPos,M),S(this.position,this.position,this.rootQ),this.lastTime=this.time}getPosition(){return this.position}getHeadYawOrientation_(){let e=p();!function(e,t,r){function i(e,t,r){return e<t?t:e>r?r:e}var n=t[0]*t[0],s=t[1]*t[1],o=t[2]*t[2],a=t[3]*t[3];if("XYZ"===r)e[0]=Math.atan2(2*(t[0]*t[3]-t[1]*t[2]),a-n-s+o),e[1]=Math.asin(i(2*(t[0]*t[2]+t[1]*t[3]),-1,1)),e[2]=Math.atan2(2*(t[2]*t[3]-t[0]*t[1]),a+n-s-o);else if("YXZ"===r)e[0]=Math.asin(i(2*(t[0]*t[3]-t[1]*t[2]),-1,1)),e[1]=Math.atan2(2*(t[0]*t[2]+t[1]*t[3]),a-n-s+o),e[2]=Math.atan2(2*(t[0]*t[1]+t[2]*t[3]),a-n+s-o);else if("ZXY"===r)e[0]=Math.asin(i(2*(t[0]*t[3]+t[1]*t[2]),-1,1)),e[1]=Math.atan2(2*(t[1]*t[3]-t[2]*t[0]),a-n-s+o),e[2]=Math.atan2(2*(t[2]*t[3]-t[0]*t[1]),a-n+s-o);else if("ZYX"===r)e[0]=Math.atan2(2*(t[0]*t[3]+t[2]*t[1]),a-n-s+o),e[1]=Math.asin(i(2*(t[1]*t[3]-t[0]*t[2]),-1,1)),e[2]=Math.atan2(2*(t[0]*t[1]+t[2]*t[3]),a+n-s-o);else if("YZX"===r)e[0]=Math.atan2(2*(t[0]*t[3]-t[2]*t[1]),a-n+s-o),e[1]=Math.atan2(2*(t[1]*t[3]-t[0]*t[2]),a+n-s-o),e[2]=Math.asin(i(2*(t[0]*t[1]+t[2]*t[3]),-1,1));else{if("XZY"!==r)return void console.log("No order given for quaternion to euler conversion.");e[0]=Math.atan2(2*(t[0]*t[3]+t[1]*t[2]),a-n+s-o),e[1]=Math.atan2(2*(t[0]*t[2]+t[1]*t[3]),a+n-s-o),e[2]=Math.asin(i(2*(t[2]*t[3]-t[0]*t[1]),-1,1))}}(e,this.headQ,"YXZ");let t=function(e,t,r,i){let n=.5*Math.PI/180;t*=n,r*=n,i*=n;let s=Math.sin(t),o=Math.cos(t),a=Math.sin(r),l=Math.cos(r),u=Math.sin(i),c=Math.cos(i);return e[0]=s*l*c-o*a*u,e[1]=o*a*c+s*l*u,e[2]=o*l*u-s*a*c,e[3]=o*l*c+s*a*u,e}(R(),0,e[1]*We,0);return t}clamp_(e,t,r){return Math.min(Math.max(e,t),r)}quatAngle_(e,t){let r=[0,0,-1],i=[0,0,-1];return S(r,r,e),S(i,i,t),function(e,t){let r=v(e[0],e[1],e[2]),i=v(t[0],t[1],t[2]);b(r,r),b(i,i);let n=E(r,i);return n>1?0:n<-1?Math.PI:Math.acos(n)}(r,i)}}const Ye=Symbol("@@webxr-polyfill/XRRemappedGamepad"),Ze={pressed:!1,touched:!1,value:0};Object.freeze(Ze);class Je{constructor(e,t,r){if(r||(r={}),r.userAgentOverrides)for(let a in r.userAgentOverrides)if(navigator.userAgent.includes(a)){let e=r.userAgentOverrides[a];for(let t in e)t in r?Object.assign(r[t],e[t]):r[t]=e[t];break}let i=new Array(r.axes&&r.axes.length?r.axes.length:e.axes.length),n=new Array(r.buttons&&r.buttons.length?r.buttons.length:e.buttons.length),s=null;if(r.gripTransform){let e=r.gripTransform.orientation||[0,0,0,1];s=a(),h(s,B(e,e),r.gripTransform.position||[0,0,0])}let o=null;if(r.targetRayTransform){let e=r.targetRayTransform.orientation||[0,0,0,1];o=a(),h(o,B(e,e),r.targetRayTransform.position||[0,0,0])}let l=r.profiles;r.displayProfiles&&t.displayName in r.displayProfiles&&(l=r.displayProfiles[t.displayName]),this[Ye]={gamepad:e,map:r,profiles:l||[e.id],mapping:r.mapping||e.mapping,axes:i,buttons:n,gripTransform:s,targetRayTransform:o},this._update()}_update(){let e=this[Ye].gamepad,t=this[Ye].map,r=this[Ye].axes;for(let n=0;n<r.length;++n)t.axes&&n in t.axes?null===t.axes[n]?r[n]=0:r[n]=e.axes[t.axes[n]]:r[n]=e.axes[n];if(t.axes&&t.axes.invert)for(let n of t.axes.invert)n<r.length&&(r[n]*=-1);let i=this[Ye].buttons;for(let n=0;n<i.length;++n)t.buttons&&n in t.buttons?null===t.buttons[n]?i[n]=Ze:i[n]=e.buttons[t.buttons[n]]:i[n]=e.buttons[n]}get id(){return""}get _profiles(){return this[Ye].profiles}get index(){return-1}get connected(){return this[Ye].gamepad.connected}get timestamp(){return this[Ye].gamepad.timestamp}get mapping(){return this[Ye].mapping}get axes(){return this[Ye].axes}get buttons(){return this[Ye].buttons}get hapticActuators(){return this[Ye].gamepad.hapticActuators}}class Ke{constructor(e,t,r=0,i=-1){this.polyfill=e,this.display=t,this.nativeGamepad=null,this.gamepad=null,this.inputSource=new Ee(this),this.lastPosition=p(),this.emulatedPosition=!1,this.basePoseMatrix=a(),this.outputMatrix=a(),this.primaryButtonIndex=r,this.primaryActionPressed=!1,this.primarySqueezeButtonIndex=i,this.primarySqueezeActionPressed=!1,this.handedness="",this.targetRayMode="gaze",this.armModel=null}get profiles(){return this.gamepad?this.gamepad._profiles:[]}updateFromGamepad(e){this.nativeGamepad!==e&&(this.nativeGamepad=e,this.gamepad=e?new Je(e,this.display,Qe[e.id]):null),this.handedness=""===e.hand?"none":e.hand,this.gamepad&&this.gamepad._update(),e.pose?(this.targetRayMode="tracked-pointer",this.emulatedPosition=!e.pose.hasPosition):""===e.hand&&(this.targetRayMode="gaze",this.emulatedPosition=!1)}updateBasePoseMatrix(){if(this.nativeGamepad&&this.nativeGamepad.pose){let e=this.nativeGamepad.pose,t=e.position,r=e.orientation;if(!t&&!r)return;t?(this.lastPosition[0]=t[0],this.lastPosition[1]=t[1],this.lastPosition[2]=t[2]):e.hasPosition?t=this.lastPosition:(this.armModel||(this.armModel=new qe),this.armModel.setHandedness(this.nativeGamepad.hand),this.armModel.update(r,this.polyfill.getBasePoseMatrix()),t=this.armModel.getPosition()),h(this.basePoseMatrix,r,t)}else e=this.basePoseMatrix,t=this.polyfill.getBasePoseMatrix(),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15];var e,t;return this.basePoseMatrix}getXRPose(e,t){switch(this.updateBasePoseMatrix(),t){case"target-ray":e._transformBasePoseMatrix(this.outputMatrix,this.basePoseMatrix),this.gamepad&&this.gamepad[Ye].targetRayTransform&&c(this.outputMatrix,this.outputMatrix,this.gamepad[Ye].targetRayTransform);break;case"grip":if(!this.nativeGamepad||!this.nativeGamepad.pose)return null;e._transformBasePoseMatrix(this.outputMatrix,this.basePoseMatrix),this.gamepad&&this.gamepad[Ye].gripTransform&&c(this.outputMatrix,this.outputMatrix,this.gamepad[Ye].gripTransform);break;default:return null}return e._adjustForOriginOffset(this.outputMatrix),new XRPose(new XRRigidTransform(this.outputMatrix),this.emulatedPosition)}}const $e={highRefreshRate:!0},et={oculus:1,openvr:1,"spatial controller (spatial interaction source)":1};let tt=0;class rt{constructor(e,t,r={}){if(this.mode=e,this.enabledFeatures=t,this.outputContext=null,this.immersive="immersive-vr"==e||"immersive-ar"==e,this.ended=null,this.baseLayer=null,this.id=++tt,this.modifiedCanvasLayer=!1,this.outputContext){const e=r.renderContextType||"2d";this.renderContext=this.outputContext.canvas.getContext(e)}}}class it extends De{constructor(e,t){const{canPresent:r}=t.capabilities;super(e),this.display=t,this.frame=new e.VRFrameData,this.sessions=new Map,this.immersiveSession=null,this.canPresent=r,this.baseModelMatrix=a(),this.gamepadInputSources={},this.tempVec3=new Float32Array(3),this.onVRDisplayPresentChange=this.onVRDisplayPresentChange.bind(this),e.window.addEventListener("vrdisplaypresentchange",this.onVRDisplayPresentChange),this.CAN_USE_GAMEPAD=e.navigator&&"getGamepads"in e.navigator,this.HAS_BITMAP_SUPPORT=(e=>!(!e.ImageBitmapRenderingContext||!e.createImageBitmap))(e)}get depthNear(){return this.display.depthNear}set depthNear(e){this.display.depthNear=e}get depthFar(){return this.display.depthFar}set depthFar(e){this.display.depthFar=e}onBaseLayerSet(e,t){const r=this.sessions.get(e),i=t.context.canvas;if(r.immersive){const e=this.display.getEyeParameters("left"),n=this.display.getEyeParameters("right");i.width=2*Math.max(e.renderWidth,n.renderWidth),i.height=Math.max(e.renderHeight,n.renderHeight),this.display.requestPresent([{source:i,attributes:$e}]).then((()=>{this.global.document.body.contains(i)||(r.modifiedCanvasLayer=!0,this.global.document.body.appendChild(i),(e=>{e.style.display="block",e.style.position="absolute",e.style.width=e.style.height="1px",e.style.top=e.style.left="0px"})(i)),r.baseLayer=t}))}else r.baseLayer=t}isSessionSupported(e){return"immersive-ar"!=e&&("immersive-vr"!=e||!1!==this.canPresent)}isFeatureSupported(e){switch(e){case"viewer":case"local":case"local-floor":return!0;default:return!1}}async requestSession(e,t){if(!this.isSessionSupported(e))return Promise.reject();let r="immersive-vr"==e;if(r){const e=this.global.document.createElement("canvas");e.getContext("webgl");await this.display.requestPresent([{source:e,attributes:$e}])}const i=new rt(e,t,{renderContextType:this.HAS_BITMAP_SUPPORT?"bitmaprenderer":"2d"});return this.sessions.set(i.id,i),r&&(this.immersiveSession=i,this.dispatchEvent("@@webxr-polyfill/vr-present-start",i.id)),Promise.resolve(i.id)}requestAnimationFrame(e){return this.display.requestAnimationFrame(e)}getPrimaryButtonIndex(e){let t=0,r=e.id.toLowerCase();for(let i in et)if(r.includes(i)){t=et[i];break}return Math.min(t,e.buttons.length-1)}onFrameStart(e,t){this.display.depthNear=t.depthNear,this.display.depthFar=t.depthFar,this.display.getFrameData(this.frame);const r=this.sessions.get(e);if(r.immersive&&this.CAN_USE_GAMEPAD){let e=this.gamepadInputSources;this.gamepadInputSources={};let t=this.global.navigator.getGamepads();for(let i=0;i<t.length;++i){let n=t[i];if(n&&n.displayId>0){let t=e[i];if(t||(t=new Ke(this,this.display,this.getPrimaryButtonIndex(n))),t.updateFromGamepad(n),this.gamepadInputSources[i]=t,-1!=t.primaryButtonIndex){let e=n.buttons[t.primaryButtonIndex].pressed;e&&!t.primaryActionPressed?this.dispatchEvent("@@webxr-polyfill/input-select-start",{sessionId:r.id,inputSource:t.inputSource}):!e&&t.primaryActionPressed&&this.dispatchEvent("@@webxr-polyfill/input-select-end",{sessionId:r.id,inputSource:t.inputSource}),t.primaryActionPressed=e}if(-1!=t.primarySqueezeButtonIndex){let e=n.buttons[t.primarySqueezeButtonIndex].pressed;e&&!t.primarySqueezeActionPressed?this.dispatchEvent("@@webxr-polyfill/input-squeeze-start",{sessionId:r.id,inputSource:t.inputSource}):!e&&t.primarySqueezeActionPressed&&this.dispatchEvent("@@webxr-polyfill/input-squeeze-end",{sessionId:r.id,inputSource:t.inputSource}),t.primarySqueezeActionPressed=e}}}}if(!r.immersive&&r.baseLayer){const e=r.baseLayer.context.canvas;f(this.frame.leftProjectionMatrix,t.inlineVerticalFieldOfView,e.width/e.height,t.depthNear,t.depthFar)}}onFrameEnd(e){const t=this.sessions.get(e);if(!t.ended&&t.baseLayer){if(t.outputContext&&(!t.immersive||this.display.capabilities.hasExternalDisplay)){const e=t.immersive&&this.display.capabilities.hasExternalDisplay,r=t.baseLayer.context.canvas,i=e?r.width/2:r.width,n=r.height;{const e=t.outputContext.canvas,s=e.width,o=e.height,a=t.renderContext;this.HAS_BITMAP_SUPPORT?r.transferToImageBitmap?a.transferFromImageBitmap(r.transferToImageBitmap()):this.global.createImageBitmap(r,0,0,i,n,{resizeWidth:s,resizeHeight:o}).then((e=>a.transferFromImageBitmap(e))):a.drawImage(r,0,0,i,n,0,0,s,o)}}t.immersive&&t.baseLayer&&this.display.submitFrame()}}cancelAnimationFrame(e){this.display.cancelAnimationFrame(e)}async endSession(e){const t=this.sessions.get(e);if(!t.ended)return t.immersive?this.display.exitPresent():void(t.ended=!0)}doesSessionSupportReferenceSpace(e,t){const r=this.sessions.get(e);return!r.ended&&r.enabledFeatures.has(t)}requestStageBounds(){if(this.display.stageParameters){const e=this.display.stageParameters.sizeX,t=this.display.stageParameters.sizeZ,r=[];return r.push(-e/2),r.push(-t/2),r.push(e/2),r.push(-t/2),r.push(e/2),r.push(t/2),r.push(-e/2),r.push(t/2),r}return null}async requestFrameOfReferenceTransform(e,t){return("local-floor"===e||"bounded-floor"===e)&&this.display.stageParameters&&this.display.stageParameters.sittingToStandingTransform?this.display.stageParameters.sittingToStandingTransform:null}getProjectionMatrix(e){if("left"===e)return this.frame.leftProjectionMatrix;if("right"===e)return this.frame.rightProjectionMatrix;if("none"===e)return this.frame.leftProjectionMatrix;throw new Error("eye must be of type 'left' or 'right'")}getViewport(e,t,r,i){const n=this.sessions.get(e),{width:s,height:o}=r.context.canvas;if(!n.immersive)return i.x=i.y=0,i.width=s,i.height=o,!0;if("left"===t||"none"===t)i.x=0;else{if("right"!==t)return!1;i.x=s/2}return i.y=0,i.width=s/2,i.height=o,!0}getBasePoseMatrix(){let{position:e,orientation:t}=this.frame.pose;return e||t?(e||(e=this.tempVec3,e[0]=e[1]=e[2]=0),h(this.baseModelMatrix,t,e),this.baseModelMatrix):this.baseModelMatrix}getBaseViewMatrix(e){if("left"===e||"none"===e)return this.frame.leftViewMatrix;if("right"===e)return this.frame.rightViewMatrix;throw new Error("eye must be of type 'left' or 'right'")}getInputSources(){let e=[];for(let t in this.gamepadInputSources)e.push(this.gamepadInputSources[t].inputSource);return e}getInputPose(e,t,r){if(!t)return null;for(let i in this.gamepadInputSources){let n=this.gamepadInputSources[i];if(n.inputSource===e)return n.getXRPose(t,r)}return null}onWindowResize(){}onVRDisplayPresentChange(e){this.display.isPresenting||this.sessions.forEach((e=>{if(e.immersive&&!e.ended){if(e.modifiedCanvasLayer){const t=e.baseLayer.context.canvas;document.body.removeChild(t),t.setAttribute("style","")}this.immersiveSession===e&&(this.immersiveSession=null),this.dispatchEvent("@@webxr-polyfill/vr-present-end",e.id)}}))}}class nt extends it{constructor(e,t){const r=new Be(t||{});super(e,r),this.display=r,this.frame={rightViewMatrix:new Float32Array(16),leftViewMatrix:new Float32Array(16),rightProjectionMatrix:new Float32Array(16),leftProjectionMatrix:new Float32Array(16),pose:null,timestamp:null}}}let st=0;class ot{constructor(e,t){this.mode=e,this.enabledFeatures=t,this.ended=null,this.baseLayer=null,this.id=++st}}class at extends De{constructor(e){super(e),this.sessions=new Map,this.projectionMatrix=a(),this.identityMatrix=a()}onBaseLayerSet(e,t){this.sessions.get(e).baseLayer=t}isSessionSupported(e){return"inline"==e}isFeatureSupported(e){return"viewer"===e}async requestSession(e,t){if(!this.isSessionSupported(e))return Promise.reject();const r=new ot(e,t);return this.sessions.set(r.id,r),Promise.resolve(r.id)}requestAnimationFrame(e){return window.requestAnimationFrame(e)}cancelAnimationFrame(e){window.cancelAnimationFrame(e)}onFrameStart(e,t){const r=this.sessions.get(e);if(r.baseLayer){const e=r.baseLayer.context.canvas;f(this.projectionMatrix,t.inlineVerticalFieldOfView,e.width/e.height,t.depthNear,t.depthFar)}}onFrameEnd(e){}async endSession(e){this.sessions.get(e).ended=!0}doesSessionSupportReferenceSpace(e,t){const r=this.sessions.get(e);return!r.ended&&r.enabledFeatures.has(t)}requestStageBounds(){return null}async requestFrameOfReferenceTransform(e,t){return null}getProjectionMatrix(e){return this.projectionMatrix}getViewport(e,t,r,i){this.sessions.get(e);const{width:n,height:s}=r.context.canvas;return i.x=i.y=0,i.width=n,i.height=s,!0}getBasePoseMatrix(){return this.identityMatrix}getBaseViewMatrix(e){return this.identityMatrix}getInputSources(){return[]}getInputPose(e,t,r){return null}onWindowResize(){}}const lt=async function(e,t){if(t.webvr){let t=await async function(e){let t=null;if("getVRDisplays"in e.navigator)try{const r=await e.navigator.getVRDisplays();r&&r.length&&(t=new it(e,r[0]))}catch(r){}return t}(e);if(t)return t}let r=(e=>{var t,r=!1;return t=e.navigator.userAgent||e.navigator.vendor||e.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(r=!0),r})(e);return r&&t.cardboard||!r&&t.allowCardboardOnDesktop?(e.VRFrameData||(e.VRFrameData=function(){this.rightViewMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.leftProjectionMatrix=new Float32Array(16),this.pose=null}),new nt(e,t.cardboardConfig)):new at(e)},ut={global:i,webvr:!0,cardboard:!0,cardboardConfig:null,allowCardboardOnDesktop:!1},ct=["navigator","HTMLCanvasElement","WebGLRenderingContext"];new class{constructor(e={}){this.config=Object.freeze(Object.assign({},ut,e)),this.global=this.config.global,this.nativeWebXR="xr"in this.global.navigator,this.injected=!1,this.nativeWebXR?this._injectCompatibilityShims(this.global):this._injectPolyfill(this.global)}_injectPolyfill(e){if(!ct.every((t=>!!e[t])))throw new Error(`Global must have the following attributes : ${ct}`);for(const t of Object.keys(Me))void 0!==e[t]?console.warn(`${t} already defined on global.`):e[t]=Me[t];Re(e.WebGLRenderingContext)&&(_e(e.HTMLCanvasElement),e.OffscreenCanvas&&_e(e.OffscreenCanvas),e.WebGL2RenderingContext&&Re(e.WebGL2RenderingContext),window.isSecureContext||console.warn("WebXR Polyfill Warning:\nThis page is not running in a secure context (https:// or localhost)!\nThis means that although the page may be able to use the WebXR Polyfill it will\nnot be able to use native WebXR implementations, and as such will not be able to\naccess dedicated VR or AR hardware, and will not be able to take advantage of\nany performance improvements a native WebXR implementation may offer. Please\nhost this content on a secure origin for the best user experience.\n"));this.injected=!0,this._patchNavigatorXR()}_patchNavigatorXR(){let e=lt(this.global,this.config);this.xr=new Me.XRSystem(e),Object.defineProperty(this.global.navigator,"xr",{value:this.xr,configurable:!0})}_injectCompatibilityShims(e){if(!ct.every((t=>!!e[t])))throw new Error(`Global must have the following attributes : ${ct}`);if(e.navigator.xr&&"supportsSession"in e.navigator.xr&&!("isSessionSupported"in e.navigator.xr)){let t=e.navigator.xr.supportsSession;e.navigator.xr.isSessionSupported=function(e){return t.call(this,e).then((()=>!0)).catch((()=>!1))},e.navigator.xr.supportsSession=function(e){return console.warn("navigator.xr.supportsSession() is deprecated. Please call navigator.xr.isSessionSupported() instead and check the boolean value returned when the promise resolves."),t.call(this,e)}}}}},70982:()=>{!function(){var e=document.createElement("script");if(!("noModule"in e)&&"onbeforeload"in e){var t=!1;document.addEventListener("beforeload",(function(r){if(r.target===e)t=!0;else if(!r.target.hasAttribute("nomodule")||!t)return;r.preventDefault()}),!0),e.type="module",e.src=".",document.head.appendChild(e),e.remove()}}()},77111:(e,t,r)=>{var i=r(26733),n=r(59821),s=TypeError;e.exports=function(e){if(i(e))return e;throw s(n(e)+" is not a function")}},57988:(e,t,r)=>{var i=r(82359),n=r(59821),s=TypeError;e.exports=function(e){if(i(e))return e;throw s(n(e)+" is not a constructor")}},88505:(e,t,r)=>{var i=r(26733),n=String,s=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw s("Can't set "+n(e)+" as a prototype")}},9736:(e,t,r)=>{var i=r(70095),n=r(22391),s=r(31787).f,o=i("unscopables"),a=Array.prototype;null==a[o]&&s(a,o,{configurable:!0,value:n(null)}),e.exports=function(e){a[o][e]=!0}},36637:(e,t,r)=>{"use strict";var i=r(30966).charAt;e.exports=function(e,t,r){return t+(r?i(e,t).length:1)}},57728:(e,t,r)=>{var i=r(91321),n=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw n("Incorrect invocation")}},21176:(e,t,r)=>{var i=r(85052),n=String,s=TypeError;e.exports=function(e){if(i(e))return e;throw s(n(e)+" is not an object")}},9772:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9918:(e,t,r)=>{"use strict";var i,n,s,o=r(9772),a=r(7400),l=r(9859),u=r(26733),c=r(85052),h=r(98270),d=r(81589),A=r(59821),f=r(75762),p=r(14768),m=r(31787).f,v=r(91321),g=r(67567),y=r(56540),w=r(70095),b=r(81441),E=r(56407),x=E.enforce,S=E.get,M=l.Int8Array,R=M&&M.prototype,_=l.Uint8ClampedArray,F=_&&_.prototype,T=M&&g(M),P=R&&g(R),I=Object.prototype,C=l.TypeError,B=w("toStringTag"),D=b("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",O=o&&!!y&&"Opera"!==d(l.opera),N=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},G={BigInt64Array:8,BigUint64Array:8},U=function(e){var t=g(e);if(c(t)){var r=S(t);return r&&h(r,L)?r.TypedArrayConstructor:U(t)}},Q=function(e){if(!c(e))return!1;var t=d(e);return h(k,t)||h(G,t)};for(i in k)(s=(n=l[i])&&n.prototype)?x(s).TypedArrayConstructor=n:O=!1;for(i in G)(s=(n=l[i])&&n.prototype)&&(x(s).TypedArrayConstructor=n);if((!O||!u(T)||T===Function.prototype)&&(T=function(){throw C("Incorrect invocation")},O))for(i in k)l[i]&&y(l[i],T);if((!O||!P||P===I)&&(P=T.prototype,O))for(i in k)l[i]&&y(l[i].prototype,P);if(O&&g(F)!==P&&y(F,P),a&&!h(P,B))for(i in N=!0,m(P,B,{get:function(){return c(this)?this[D]:void 0}}),k)l[i]&&f(l[i],D,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:N&&D,aTypedArray:function(e){if(Q(e))return e;throw C("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!y||v(T,e)))return e;throw C(A(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,i){if(a){if(r)for(var n in k){var s=l[n];if(s&&h(s.prototype,e))try{delete s.prototype[e]}catch(o){try{s.prototype[e]=t}catch(u){}}}P[e]&&!r||p(P,e,r?t:O&&R[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,r){var i,n;if(a){if(y){if(r)for(i in k)if((n=l[i])&&h(n,e))try{delete n[e]}catch(s){}if(T[e]&&!r)return;try{return p(T,e,r?t:O&&T[e]||t)}catch(s){}}for(i in k)!(n=l[i])||n[e]&&!r||p(n,e,t)}},getTypedArrayConstructor:U,isView:function(e){if(!c(e))return!1;var t=d(e);return"DataView"===t||h(k,t)||h(G,t)},isTypedArray:Q,TypedArray:T,TypedArrayPrototype:P}},53816:(e,t,r)=>{"use strict";var i=r(9859),n=r(65968),s=r(7400),o=r(9772),a=r(51805),l=r(75762),u=r(8312),c=r(24229),h=r(57728),d=r(43329),A=r(34237),f=r(7331),p=r(56201),m=r(67567),v=r(56540),g=r(78151).f,y=r(31787).f,w=r(97065),b=r(69794),E=r(54555),x=r(56407),S=a.PROPER,M=a.CONFIGURABLE,R=x.get,_=x.set,F="ArrayBuffer",T="DataView",P="Wrong index",I=i.ArrayBuffer,C=I,B=C&&C.prototype,D=i.DataView,L=D&&D.prototype,O=Object.prototype,N=i.Array,k=i.RangeError,G=n(w),U=n([].reverse),Q=p.pack,V=p.unpack,z=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},j=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},X=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},W=function(e){return Q(e,23,4)},q=function(e){return Q(e,52,8)},Y=function(e,t){y(e.prototype,t,{get:function(){return R(this)[t]}})},Z=function(e,t,r,i){var n=f(r),s=R(e);if(n+t>s.byteLength)throw k(P);var o=R(s.buffer).bytes,a=n+s.byteOffset,l=b(o,a,a+t);return i?l:U(l)},J=function(e,t,r,i,n,s){var o=f(r),a=R(e);if(o+t>a.byteLength)throw k(P);for(var l=R(a.buffer).bytes,u=o+a.byteOffset,c=i(+n),h=0;h<t;h++)l[u+h]=c[s?h:t-h-1]};if(o){var K=S&&I.name!==F;if(c((function(){I(1)}))&&c((function(){new I(-1)}))&&!c((function(){return new I,new I(1.5),new I(NaN),1!=I.length||K&&!M})))K&&M&&l(I,"name",F);else{(C=function(e){return h(this,B),new I(f(e))}).prototype=B;for(var $,ee=g(I),te=0;ee.length>te;)($=ee[te++])in C||l(C,$,I[$]);B.constructor=C}v&&m(L)!==O&&v(L,O);var re=new D(new C(2)),ie=n(L.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||u(L,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else B=(C=function(e){h(this,B);var t=f(e);_(this,{bytes:G(N(t),0),byteLength:t}),s||(this.byteLength=t)}).prototype,L=(D=function(e,t,r){h(this,L),h(e,B);var i=R(e).byteLength,n=d(t);if(n<0||n>i)throw k("Wrong offset");if(n+(r=void 0===r?i-n:A(r))>i)throw k("Wrong length");_(this,{buffer:e,byteLength:r,byteOffset:n}),s||(this.buffer=e,this.byteLength=r,this.byteOffset=n)}).prototype,s&&(Y(C,"byteLength"),Y(D,"buffer"),Y(D,"byteLength"),Y(D,"byteOffset")),u(L,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return X(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return X(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return V(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return V(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,z,t)},setUint8:function(e,t){J(this,1,e,z,t)},setInt16:function(e,t){J(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,q,t,arguments.length>2?arguments[2]:void 0)}});E(C,F),E(D,T),e.exports={ArrayBuffer:C,DataView:D}},97065:(e,t,r)=>{"use strict";var i=r(92991),n=r(43231),s=r(39646);e.exports=function(e){for(var t=i(this),r=s(t),o=arguments.length,a=n(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,u=void 0===l?r:n(l,r);u>a;)t[a++]=e;return t}},10507:(e,t,r)=>{"use strict";var i=r(97636),n=r(20266),s=r(92991),o=r(64960),a=r(91943),l=r(82359),u=r(39646),c=r(62324),h=r(28403),d=r(78830),A=Array;e.exports=function(e){var t=s(e),r=l(this),f=arguments.length,p=f>1?arguments[1]:void 0,m=void 0!==p;m&&(p=i(p,f>2?arguments[2]:void 0));var v,g,y,w,b,E,x=d(t),S=0;if(!x||this===A&&a(x))for(v=u(t),g=r?new this(v):A(v);v>S;S++)E=m?p(t[S],S):t[S],c(g,S,E);else for(b=(w=h(t,x)).next,g=r?new this:[];!(y=n(b,w)).done;S++)E=m?o(w,p,[y.value,S],!0):y.value,c(g,S,E);return g.length=S,g}},19540:(e,t,r)=>{var i=r(10905),n=r(43231),s=r(39646),o=function(e){return function(t,r,o){var a,l=i(t),u=s(l),c=n(o,u);if(e&&r!=r){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},89996:(e,t,r)=>{var i=r(97636),n=r(65968),s=r(9337),o=r(92991),a=r(39646),l=r(87501),u=n([].push),c=function(e){var t=1==e,r=2==e,n=3==e,c=4==e,h=6==e,d=7==e,A=5==e||h;return function(f,p,m,v){for(var g,y,w=o(f),b=s(w),E=i(p,m),x=a(b),S=0,M=v||l,R=t?M(f,x):r||d?M(f,0):void 0;x>S;S++)if((A||S in b)&&(y=E(g=b[S],S,w),e))if(t)R[S]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:u(R,g)}else switch(e){case 4:return!1;case 7:u(R,g)}return h?-1:n||c?c:R}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},96038:(e,t,r)=>{"use strict";var i=r(24229);e.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){return 1},1)}))}},43143:(e,t,r)=>{var i=r(77111),n=r(92991),s=r(9337),o=r(39646),a=TypeError,l=function(e){return function(t,r,l,u){i(r);var c=n(t),h=s(c),d=o(c),A=e?d-1:0,f=e?-1:1;if(l<2)for(;;){if(A in h){u=h[A],A+=f;break}if(A+=f,e?A<0:d<=A)throw a("Reduce of empty array with no initial value")}for(;e?A>=0:d>A;A+=f)A in h&&(u=r(u,h[A],A,c));return u}};e.exports={left:l(!1),right:l(!0)}},69794:(e,t,r)=>{var i=r(43231),n=r(39646),s=r(62324),o=Array,a=Math.max;e.exports=function(e,t,r){for(var l=n(e),u=i(t,l),c=i(void 0===r?l:r,l),h=o(a(c-u,0)),d=0;u<c;u++,d++)s(h,d,e[u]);return h.length=d,h}},1909:(e,t,r)=>{var i=r(65968);e.exports=i([].slice)},33867:(e,t,r)=>{var i=r(69794),n=Math.floor,s=function(e,t){var r=e.length,l=n(r/2);return r<8?o(e,t):a(e,s(i(e,0,l),t),s(i(e,l),t),t)},o=function(e,t){for(var r,i,n=e.length,s=1;s<n;){for(i=s,r=e[s];i&&t(e[i-1],r)>0;)e[i]=e[--i];i!==s++&&(e[i]=r)}return e},a=function(e,t,r,i){for(var n=t.length,s=r.length,o=0,a=0;o<n||a<s;)e[o+a]=o<n&&a<s?i(t[o],r[a])<=0?t[o++]:r[a++]:o<n?t[o++]:r[a++];return e};e.exports=s},18760:(e,t,r)=>{var i=r(33718),n=r(82359),s=r(85052),o=r(70095)("species"),a=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(n(t)&&(t===a||i(t.prototype))||s(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?a:t}},87501:(e,t,r)=>{var i=r(18760);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},64960:(e,t,r)=>{var i=r(21176),n=r(57281);e.exports=function(e,t,r,s){try{return s?t(i(r)[0],r[1]):t(r)}catch(o){n(e,"throw",o)}}},74575:(e,t,r)=>{var i=r(70095)("iterator"),n=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){n=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var s={};s[i]=function(){return{next:function(){return{done:r=!0}}}},e(s)}catch(a){}return r}},27079:(e,t,r)=>{var i=r(56529),n=i({}.toString),s=i("".slice);e.exports=function(e){return s(n(e),8,-1)}},81589:(e,t,r)=>{var i=r(71601),n=r(26733),s=r(27079),o=r(70095)("toStringTag"),a=Object,l="Arguments"==s(function(){return arguments}());e.exports=i?s:function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=a(e),o))?r:l?s(t):"Object"==(i=s(t))&&n(t.callee)?"Arguments":i}},77081:(e,t,r)=>{var i=r(98270),n=r(4826),s=r(97933),o=r(31787);e.exports=function(e,t,r){for(var a=n(t),l=o.f,u=s.f,c=0;c<a.length;c++){var h=a[c];i(e,h)||r&&i(r,h)||l(e,h,u(t,h))}}},48127:(e,t,r)=>{var i=r(70095)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}},27528:(e,t,r)=>{var i=r(24229);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},33684:e=>{e.exports=function(e,t){return{value:e,done:t}}},75762:(e,t,r)=>{var i=r(7400),n=r(31787),s=r(65358);e.exports=i?function(e,t,r){return n.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},65358:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},62324:(e,t,r)=>{"use strict";var i=r(39310),n=r(31787),s=r(65358);e.exports=function(e,t,r){var o=i(t);o in e?n.f(e,o,s(0,r)):e[o]=r}},16102:(e,t,r)=>{var i=r(16039),n=r(31787);e.exports=function(e,t,r){return r.get&&i(r.get,t,{getter:!0}),r.set&&i(r.set,t,{setter:!0}),n.f(e,t,r)}},14768:(e,t,r)=>{var i=r(26733),n=r(31787),s=r(16039),o=r(18400);e.exports=function(e,t,r,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:t;if(i(r)&&s(r,u,a),a.global)l?e[t]=r:o(t,r);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=r:n.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},8312:(e,t,r)=>{var i=r(14768);e.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},18400:(e,t,r)=>{var i=r(9859),n=Object.defineProperty;e.exports=function(e,t){try{n(i,e,{value:t,configurable:!0,writable:!0})}catch(r){i[e]=t}return t}},79563:(e,t,r)=>{"use strict";var i=r(59821),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw n("Cannot delete property "+i(t)+" of "+i(e))}},7400:(e,t,r)=>{var i=r(24229);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},63777:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},22635:(e,t,r)=>{var i=r(9859),n=r(85052),s=i.document,o=n(s)&&n(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},13064:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},95694:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},18865:(e,t,r)=>{var i=r(22635)("span").classList,n=i&&i.constructor&&i.constructor.prototype;e.exports=n===Object.prototype?void 0:n},22671:(e,t,r)=>{var i=r(80598).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},48639:(e,t,r)=>{var i=r(95189),n=r(28801);e.exports=!i&&!n&&"object"==typeof window&&"object"==typeof document},95189:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},48506:(e,t,r)=>{var i=r(80598);e.exports=/MSIE|Trident/.test(i)},8983:(e,t,r)=>{var i=r(80598),n=r(9859);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==n.Pebble},32023:(e,t,r)=>{var i=r(80598);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},28801:(e,t,r)=>{var i=r(27079),n=r(9859);e.exports="process"==i(n.process)},10263:(e,t,r)=>{var i=r(80598);e.exports=/web0s(?!.*chrome)/i.test(i)},80598:(e,t,r)=>{var i=r(31333);e.exports=i("navigator","userAgent")||""},6358:(e,t,r)=>{var i,n,s=r(9859),o=r(80598),a=s.process,l=s.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(n=(i=c.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=+i[1]),e.exports=n},49811:(e,t,r)=>{var i=r(80598).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},13837:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},23103:(e,t,r)=>{var i=r(9859),n=r(97933).f,s=r(75762),o=r(14768),a=r(18400),l=r(77081),u=r(46541);e.exports=function(e,t){var r,c,h,d,A,f=e.target,p=e.global,m=e.stat;if(r=p?i:m?i[f]||a(f,{}):(i[f]||{}).prototype)for(c in t){if(d=t[c],h=e.dontCallGetSet?(A=n(r,c))&&A.value:r[c],!u(p?c:f+(m?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),o(r,c,d,e)}}},24229:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},94954:(e,t,r)=>{"use strict";r(77950);var i=r(65968),n=r(14768),s=r(63466),o=r(24229),a=r(70095),l=r(75762),u=a("species"),c=RegExp.prototype;e.exports=function(e,t,r,h){var d=a(e),A=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=A&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!A||!f||r){var p=i(/./[d]),m=t(d,""[e],(function(e,t,r,n,o){var a=i(e),l=t.exec;return l===s||l===c.exec?A&&!o?{done:!0,value:p(t,r,n)}:{done:!0,value:a(r,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(c,d,m[1])}h&&l(c[d],"sham",!0)}},34990:(e,t,r)=>{"use strict";var i=r(33718),n=r(39646),s=r(13064),o=r(97636),a=function(e,t,r,l,u,c,h,d){for(var A,f,p=u,m=0,v=!!h&&o(h,d);m<l;)m in r&&(A=v?v(r[m],m,t):r[m],c>0&&i(A)?(f=n(A),p=a(e,t,A,f,p,c-1)-1):(s(p+1),e[p]=A),p++),m++;return p};e.exports=a},53171:(e,t,r)=>{var i=r(57188),n=Function.prototype,s=n.apply,o=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(s):function(){return o.apply(s,arguments)})},97636:(e,t,r)=>{var i=r(65968),n=r(77111),s=r(57188),o=i(i.bind);e.exports=function(e,t){return n(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},57188:(e,t,r)=>{var i=r(24229);e.exports=!i((function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},20266:(e,t,r)=>{var i=r(57188),n=Function.prototype.call;e.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},51805:(e,t,r)=>{var i=r(7400),n=r(98270),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=n(s,"name"),l=a&&"something"===(function(){}).name,u=a&&(!i||i&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},56529:(e,t,r)=>{var i=r(57188),n=Function.prototype,s=n.call,o=i&&n.bind.bind(s,s);e.exports=i?o:function(e){return function(){return s.apply(e,arguments)}}},65968:(e,t,r)=>{var i=r(27079),n=r(56529);e.exports=function(e){if("Function"===i(e))return n(e)}},31333:(e,t,r)=>{var i=r(9859),n=r(26733),s=function(e){return n(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(i[e]):i[e]&&i[e][t]}},78830:(e,t,r)=>{var i=r(81589),n=r(55300),s=r(9650),o=r(45495),a=r(70095)("iterator");e.exports=function(e){if(!s(e))return n(e,a)||n(e,"@@iterator")||o[i(e)]}},28403:(e,t,r)=>{var i=r(20266),n=r(77111),s=r(21176),o=r(59821),a=r(78830),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?a(e):t;if(n(r))return s(i(r,e));throw l(o(e)+" is not iterable")}},55300:(e,t,r)=>{var i=r(77111),n=r(9650);e.exports=function(e,t){var r=e[t];return n(r)?void 0:i(r)}},70017:(e,t,r)=>{var i=r(65968),n=r(92991),s=Math.floor,o=i("".charAt),a=i("".replace),l=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,i,h,d){var A=r+e.length,f=i.length,p=c;return void 0!==h&&(h=n(h),p=u),a(d,p,(function(n,a){var u;switch(o(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,r);case"'":return l(t,A);case"<":u=h[l(a,1,-1)];break;default:var c=+a;if(0===c)return n;if(c>f){var d=s(c/10);return 0===d?n:d<=f?void 0===i[d-1]?o(a,1):i[d-1]+o(a,1):n}u=i[c-1]}return void 0===u?"":u}))}},9859:(e,t,r)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},98270:(e,t,r)=>{var i=r(65968),n=r(92991),s=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(n(e),t)}},95977:e=>{e.exports={}},14665:(e,t,r)=>{var i=r(9859);e.exports=function(e,t){var r=i.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}},53777:(e,t,r)=>{var i=r(31333);e.exports=i("document","documentElement")},64394:(e,t,r)=>{var i=r(7400),n=r(24229),s=r(22635);e.exports=!i&&!n((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},56201:e=>{var t=Array,r=Math.abs,i=Math.pow,n=Math.floor,s=Math.log,o=Math.LN2;e.exports={pack:function(e,a,l){var u,c,h,d=t(l),A=8*l-a-1,f=(1<<A)-1,p=f>>1,m=23===a?i(2,-24)-i(2,-77):0,v=e<0||0===e&&1/e<0?1:0,g=0;for((e=r(e))!=e||e===1/0?(c=e!=e?1:0,u=f):(u=n(s(e)/o),e*(h=i(2,-u))<1&&(u--,h*=2),(e+=u+p>=1?m/h:m*i(2,1-p))*h>=2&&(u++,h/=2),u+p>=f?(c=0,u=f):u+p>=1?(c=(e*h-1)*i(2,a),u+=p):(c=e*i(2,p-1)*i(2,a),u=0));a>=8;)d[g++]=255&c,c/=256,a-=8;for(u=u<<a|c,A+=a;A>0;)d[g++]=255&u,u/=256,A-=8;return d[--g]|=128*v,d},unpack:function(e,t){var r,n=e.length,s=8*n-t-1,o=(1<<s)-1,a=o>>1,l=s-7,u=n-1,c=e[u--],h=127&c;for(c>>=7;l>0;)h=256*h+e[u--],l-=8;for(r=h&(1<<-l)-1,h>>=-l,l+=t;l>0;)r=256*r+e[u--],l-=8;if(0===h)h=1-a;else{if(h===o)return r?NaN:c?-1/0:1/0;r+=i(2,t),h-=a}return(c?-1:1)*r*i(2,h-t)}}},9337:(e,t,r)=>{var i=r(65968),n=r(24229),s=r(27079),o=Object,a=i("".split);e.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?a(e,""):o(e)}:o},20835:(e,t,r)=>{var i=r(26733),n=r(85052),s=r(56540);e.exports=function(e,t,r){var o,a;return s&&i(o=t.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&s(e,a),e}},8511:(e,t,r)=>{var i=r(65968),n=r(26733),s=r(85353),o=i(Function.toString);n(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},56407:(e,t,r)=>{var i,n,s,o=r(51180),a=r(9859),l=r(85052),u=r(75762),c=r(98270),h=r(85353),d=r(44399),A=r(95977),f="Object already initialized",p=a.TypeError,m=a.WeakMap;if(o||h.state){var v=h.state||(h.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,i=function(e,t){if(v.has(e))throw p(f);return t.facade=e,v.set(e,t),t},n=function(e){return v.get(e)||{}},s=function(e){return v.has(e)}}else{var g=d("state");A[g]=!0,i=function(e,t){if(c(e,g))throw p(f);return t.facade=e,u(e,g,t),t},n=function(e){return c(e,g)?e[g]:{}},s=function(e){return c(e,g)}}e.exports={set:i,get:n,has:s,enforce:function(e){return s(e)?n(e):i(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=n(t)).type!==e)throw p("Incompatible receiver, "+e+" required");return r}}}},91943:(e,t,r)=>{var i=r(70095),n=r(45495),s=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[s]===e)}},33718:(e,t,r)=>{var i=r(27079);e.exports=Array.isArray||function(e){return"Array"==i(e)}},79098:(e,t,r)=>{var i=r(81589),n=r(65968)("".slice);e.exports=function(e){return"Big"===n(i(e),0,3)}},26733:(e,t,r)=>{var i=r(63777),n=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===n}:function(e){return"function"==typeof e}},82359:(e,t,r)=>{var i=r(65968),n=r(24229),s=r(26733),o=r(81589),a=r(31333),l=r(8511),u=function(){},c=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,A=i(d.exec),f=!d.exec(u),p=function(e){if(!s(e))return!1;try{return h(u,c,e),!0}catch(t){return!1}},m=function(e){if(!s(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!A(d,l(e))}catch(t){return!0}};m.sham=!0,e.exports=!h||n((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?m:p},90193:(e,t,r)=>{var i=r(98270);e.exports=function(e){return void 0!==e&&(i(e,"value")||i(e,"writable"))}},46541:(e,t,r)=>{var i=r(24229),n=r(26733),s=/#|\.prototype\./,o=function(e,t){var r=l[a(e)];return r==c||r!=u&&(n(t)?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},82292:(e,t,r)=>{var i=r(85052),n=Math.floor;e.exports=Number.isInteger||function(e){return!i(e)&&isFinite(e)&&n(e)===e}},9650:e=>{e.exports=function(e){return null==e}},85052:(e,t,r)=>{var i=r(26733),n=r(63777),s=n.all;e.exports=n.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===s}:function(e){return"object"==typeof e?null!==e:i(e)}},24231:e=>{e.exports=!1},48311:(e,t,r)=>{var i=r(85052),n=r(27079),s=r(70095)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},49395:(e,t,r)=>{var i=r(31333),n=r(26733),s=r(91321),o=r(66969),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return n(t)&&s(t.prototype,a(e))}},89003:(e,t,r)=>{var i=r(97636),n=r(20266),s=r(21176),o=r(59821),a=r(91943),l=r(39646),u=r(91321),c=r(28403),h=r(78830),d=r(57281),A=TypeError,f=function(e,t){this.stopped=e,this.result=t},p=f.prototype;e.exports=function(e,t,r){var m,v,g,y,w,b,E,x=r&&r.that,S=!(!r||!r.AS_ENTRIES),M=!(!r||!r.IS_RECORD),R=!(!r||!r.IS_ITERATOR),_=!(!r||!r.INTERRUPTED),F=i(t,x),T=function(e){return m&&d(m,"normal",e),new f(!0,e)},P=function(e){return S?(s(e),_?F(e[0],e[1],T):F(e[0],e[1])):_?F(e,T):F(e)};if(M)m=e.iterator;else if(R)m=e;else{if(!(v=h(e)))throw A(o(e)+" is not iterable");if(a(v)){for(g=0,y=l(e);y>g;g++)if((w=P(e[g]))&&u(p,w))return w;return new f(!1)}m=c(e,v)}for(b=M?e.next:m.next;!(E=n(b,m)).done;){try{w=P(E.value)}catch(I){d(m,"throw",I)}if("object"==typeof w&&w&&u(p,w))return w}return new f(!1)}},57281:(e,t,r)=>{var i=r(20266),n=r(21176),s=r(55300);e.exports=function(e,t,r){var o,a;n(e);try{if(!(o=s(e,"return"))){if("throw"===t)throw r;return r}o=i(o,e)}catch(l){a=!0,o=l}if("throw"===t)throw r;if(a)throw o;return n(o),r}},42247:(e,t,r)=>{"use strict";var i=r(60693).IteratorPrototype,n=r(22391),s=r(65358),o=r(54555),a=r(45495),l=function(){return this};e.exports=function(e,t,r,u){var c=t+" Iterator";return e.prototype=n(i,{next:s(+!u,r)}),o(e,c,!1,!0),a[c]=l,e}},12707:(e,t,r)=>{"use strict";var i=r(23103),n=r(20266),s=r(24231),o=r(51805),a=r(26733),l=r(42247),u=r(67567),c=r(56540),h=r(54555),d=r(75762),A=r(14768),f=r(70095),p=r(45495),m=r(60693),v=o.PROPER,g=o.CONFIGURABLE,y=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,b=f("iterator"),E="keys",x="values",S="entries",M=function(){return this};e.exports=function(e,t,r,o,f,m,R){l(r,t,o);var _,F,T,P=function(e){if(e===f&&L)return L;if(!w&&e in B)return B[e];switch(e){case E:case x:case S:return function(){return new r(this,e)}}return function(){return new r(this)}},I=t+" Iterator",C=!1,B=e.prototype,D=B[b]||B["@@iterator"]||f&&B[f],L=!w&&D||P(f),O="Array"==t&&B.entries||D;if(O&&(_=u(O.call(new e)))!==Object.prototype&&_.next&&(s||u(_)===y||(c?c(_,y):a(_[b])||A(_,b,M)),h(_,I,!0,!0),s&&(p[I]=M)),v&&f==x&&D&&D.name!==x&&(!s&&g?d(B,"name",x):(C=!0,L=function(){return n(D,this)})),f)if(F={values:P(x),keys:m?L:P(E),entries:P(S)},R)for(T in F)(w||C||!(T in B))&&A(B,T,F[T]);else i({target:t,proto:!0,forced:w||C},F);return s&&!R||B[b]===L||A(B,b,L,{name:f}),p[t]=L,F}},60693:(e,t,r)=>{"use strict";var i,n,s,o=r(24229),a=r(26733),l=r(85052),u=r(22391),c=r(67567),h=r(14768),d=r(70095),A=r(24231),f=d("iterator"),p=!1;[].keys&&("next"in(s=[].keys())?(n=c(c(s)))!==Object.prototype&&(i=n):p=!0),!l(i)||o((function(){var e={};return i[f].call(e)!==e}))?i={}:A&&(i=u(i)),a(i[f])||h(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},45495:e=>{e.exports={}},39646:(e,t,r)=>{var i=r(34237);e.exports=function(e){return i(e.length)}},16039:(e,t,r)=>{var i=r(24229),n=r(26733),s=r(98270),o=r(7400),a=r(51805).CONFIGURABLE,l=r(8511),u=r(56407),c=u.enforce,h=u.get,d=Object.defineProperty,A=o&&!i((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),p=e.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||a&&e.name!==t)&&(o?d(e,"name",{value:t,configurable:!0}):e.name=t),A&&r&&s(r,"arity")&&e.length!==r.arity&&d(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?o&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(n){}var i=c(e);return s(i,"source")||(i.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=p((function(){return n(this)&&h(this).source||l(this)}),"toString")},50917:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?r:t)(i)}},24794:(e,t,r)=>{var i,n,s,o,a,l,u,c,h=r(9859),d=r(97636),A=r(97933).f,f=r(55795).set,p=r(32023),m=r(8983),v=r(10263),g=r(28801),y=h.MutationObserver||h.WebKitMutationObserver,w=h.document,b=h.process,E=h.Promise,x=A(h,"queueMicrotask"),S=x&&x.value;S||(i=function(){var e,t;for(g&&(e=b.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(r){throw n?o():s=void 0,r}}s=void 0,e&&e.enter()},p||g||v||!y||!w?!m&&E&&E.resolve?((u=E.resolve(void 0)).constructor=E,c=d(u.then,u),o=function(){c(i)}):g?o=function(){b.nextTick(i)}:(f=d(f,h),o=function(){f(i)}):(a=!0,l=w.createTextNode(""),new y(i).observe(l,{characterData:!0}),o=function(){l.data=a=!a})),e.exports=S||function(e){var t={fn:e,next:void 0};s&&(s.next=t),n||(n=t,o()),s=t}},16485:(e,t,r)=>{"use strict";var i=r(77111),n=TypeError,s=function(e){var t,r;this.promise=new e((function(e,i){if(void 0!==t||void 0!==r)throw n("Bad Promise constructor");t=e,r=i})),this.resolve=i(t),this.reject=i(r)};e.exports.f=function(e){return new s(e)}},47272:(e,t,r)=>{var i=r(48311),n=TypeError;e.exports=function(e){if(i(e))throw n("The method doesn't accept regular expressions");return e}},45496:(e,t,r)=>{var i=r(9859),n=r(24229),s=r(65968),o=r(83326),a=r(1017).trim,l=r(41647),u=s("".charAt),c=i.parseFloat,h=i.Symbol,d=h&&h.iterator,A=1/c(l+"-0")!=-1/0||d&&!n((function(){c(Object(d))}));e.exports=A?function(e){var t=a(o(e)),r=c(t);return 0===r&&"-"==u(t,0)?-0:r}:c},36596:(e,t,r)=>{var i=r(9859),n=r(24229),s=r(65968),o=r(83326),a=r(1017).trim,l=r(41647),u=i.parseInt,c=i.Symbol,h=c&&c.iterator,d=/^[+-]?0x/i,A=s(d.exec),f=8!==u(l+"08")||22!==u(l+"0x16")||h&&!n((function(){u(Object(h))}));e.exports=f?function(e,t){var r=a(o(e));return u(r,t>>>0||(A(d,r)?16:10))}:u},47:(e,t,r)=>{"use strict";var i=r(7400),n=r(65968),s=r(20266),o=r(24229),a=r(65632),l=r(10894),u=r(19195),c=r(92991),h=r(9337),d=Object.assign,A=Object.defineProperty,f=n([].concat);e.exports=!d||o((function(){if(i&&1!==d({b:1},d(A({},"a",{enumerable:!0,get:function(){A(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=d({},e)[r]||a(d({},t)).join("")!=n}))?function(e,t){for(var r=c(e),n=arguments.length,o=1,d=l.f,A=u.f;n>o;)for(var p,m=h(arguments[o++]),v=d?f(a(m),d(m)):a(m),g=v.length,y=0;g>y;)p=v[y++],i&&!s(A,m,p)||(r[p]=m[p]);return r}:d},22391:(e,t,r)=>{var i,n=r(21176),s=r(90219),o=r(13837),a=r(95977),l=r(53777),u=r(22635),c=r(44399),h=c("IE_PROTO"),d=function(){},A=function(e){return"<script>"+e+"</"+"script>"},f=function(e){e.write(A("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{i=new ActiveXObject("htmlfile")}catch(n){}var e,t;p="undefined"!=typeof document?document.domain&&i?f(i):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(A("document.F=Object")),e.close(),e.F):f(i);for(var r=o.length;r--;)delete p.prototype[o[r]];return p()};a[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=n(e),r=new d,d.prototype=null,r[h]=e):r=p(),void 0===t?r:s.f(r,t)}},90219:(e,t,r)=>{var i=r(7400),n=r(17137),s=r(31787),o=r(21176),a=r(10905),l=r(65632);t.f=i&&!n?Object.defineProperties:function(e,t){o(e);for(var r,i=a(t),n=l(t),u=n.length,c=0;u>c;)s.f(e,r=n[c++],i[r]);return e}},31787:(e,t,r)=>{var i=r(7400),n=r(64394),s=r(17137),o=r(21176),a=r(39310),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",A="writable";t.f=i?s?function(e,t,r){if(o(e),t=a(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&A in r&&!r.writable){var i=c(e,t);i&&i.writable&&(e[t]=r.value,r={configurable:d in r?r.configurable:i.configurable,enumerable:h in r?r.enumerable:i.enumerable,writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(o(e),t=a(t),o(r),n)try{return u(e,t,r)}catch(i){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},97933:(e,t,r)=>{var i=r(7400),n=r(20266),s=r(19195),o=r(65358),a=r(10905),l=r(39310),u=r(98270),c=r(64394),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=a(e),t=l(t),c)try{return h(e,t)}catch(r){}if(u(e,t))return o(!n(s.f,e,t),e[t])}},78151:(e,t,r)=>{var i=r(90140),n=r(13837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},10894:(e,t)=>{t.f=Object.getOwnPropertySymbols},67567:(e,t,r)=>{var i=r(98270),n=r(26733),s=r(92991),o=r(44399),a=r(27528),l=o("IE_PROTO"),u=Object,c=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=s(e);if(i(t,l))return t[l];var r=t.constructor;return n(r)&&t instanceof r?r.prototype:t instanceof u?c:null}},91321:(e,t,r)=>{var i=r(65968);e.exports=i({}.isPrototypeOf)},90140:(e,t,r)=>{var i=r(65968),n=r(98270),s=r(10905),o=r(19540).indexOf,a=r(95977),l=i([].push);e.exports=function(e,t){var r,i=s(e),u=0,c=[];for(r in i)!n(a,r)&&n(i,r)&&l(c,r);for(;t.length>u;)n(i,r=t[u++])&&(~o(c,r)||l(c,r));return c}},65632:(e,t,r)=>{var i=r(90140),n=r(13837);e.exports=Object.keys||function(e){return i(e,n)}},19195:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);t.f=n?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},15020:(e,t,r)=>{"use strict";var i=r(24231),n=r(9859),s=r(24229),o=r(49811);e.exports=i||!s((function(){if(!(o&&o<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n[e]}}))},56540:(e,t,r)=>{var i=r(65968),n=r(21176),s=r(88505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(o){}return function(r,i){return n(r),s(i),t?e(r,i):r.__proto__=i,r}}():void 0)},32914:(e,t,r)=>{var i=r(20266),n=r(26733),s=r(85052),o=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&n(r=e.toString)&&!s(a=i(r,e)))return a;if(n(r=e.valueOf)&&!s(a=i(r,e)))return a;if("string"!==t&&n(r=e.toString)&&!s(a=i(r,e)))return a;throw o("Can't convert object to primitive value")}},4826:(e,t,r)=>{var i=r(31333),n=r(65968),s=r(78151),o=r(10894),a=r(21176),l=n([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=s.f(a(e)),r=o.f;return r?l(t,r(e)):t}},49276:(e,t,r)=>{var i=r(9859);e.exports=i},64624:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},38321:(e,t,r)=>{var i=r(9859),n=r(74473),s=r(26733),o=r(46541),a=r(8511),l=r(70095),u=r(48639),c=r(95189),h=r(24231),d=r(6358),A=n&&n.prototype,f=l("species"),p=!1,m=s(i.PromiseRejectionEvent),v=o("Promise",(function(){var e=a(n),t=e!==String(n);if(!t&&66===d)return!0;if(h&&(!A.catch||!A.finally))return!0;if(!d||d<51||!/native code/.test(e)){var r=new n((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};if((r.constructor={})[f]=i,!(p=r.then((function(){}))instanceof i))return!0}return!t&&(u||c)&&!m}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:p}},74473:(e,t,r)=>{var i=r(9859);e.exports=i.Promise},62391:(e,t,r)=>{var i=r(21176),n=r(85052),s=r(16485);e.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var r=s.f(e);return(0,r.resolve)(t),r.promise}},96866:(e,t,r)=>{var i=r(74473),n=r(74575),s=r(38321).CONSTRUCTOR;e.exports=s||!n((function(e){i.all(e).then(void 0,(function(){}))}))},26060:(e,t,r)=>{var i=r(31787).f;e.exports=function(e,t,r){r in e||i(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},93358:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},98115:(e,t,r)=>{var i=r(20266),n=r(21176),s=r(26733),o=r(27079),a=r(63466),l=TypeError;e.exports=function(e,t){var r=e.exec;if(s(r)){var u=i(r,e,t);return null!==u&&n(u),u}if("RegExp"===o(e))return i(a,e,t);throw l("RegExp#exec called on incompatible receiver")}},63466:(e,t,r)=>{"use strict";var i,n,s=r(20266),o=r(65968),a=r(83326),l=r(30895),u=r(25650),c=r(33036),h=r(22391),d=r(56407).get,A=r(42926),f=r(10461),p=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,g=o("".charAt),y=o("".indexOf),w=o("".replace),b=o("".slice),E=(n=/b*/g,s(m,i=/a/,"a"),s(m,n,"a"),0!==i.lastIndex||0!==n.lastIndex),x=u.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(E||S||x||A||f)&&(v=function(e){var t,r,i,n,o,u,c,A=this,f=d(A),M=a(e),R=f.raw;if(R)return R.lastIndex=A.lastIndex,t=s(v,R,M),A.lastIndex=R.lastIndex,t;var _=f.groups,F=x&&A.sticky,T=s(l,A),P=A.source,I=0,C=M;if(F&&(T=w(T,"y",""),-1===y(T,"g")&&(T+="g"),C=b(M,A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&"\n"!==g(M,A.lastIndex-1))&&(P="(?: "+P+")",C=" "+C,I++),r=new RegExp("^(?:"+P+")",T)),S&&(r=new RegExp("^"+P+"$(?!\\s)",T)),E&&(i=A.lastIndex),n=s(m,F?r:A,C),F?n?(n.input=b(n.input,I),n[0]=b(n[0],I),n.index=A.lastIndex,A.lastIndex+=n[0].length):A.lastIndex=0:E&&n&&(A.lastIndex=A.global?n.index+n[0].length:i),S&&n&&n.length>1&&s(p,n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n&&_)for(n.groups=u=h(null),o=0;o<_.length;o++)u[(c=_[o])[0]]=n[c[1]];return n}),e.exports=v},30895:(e,t,r)=>{"use strict";var i=r(21176);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},83349:(e,t,r)=>{var i=r(20266),n=r(98270),s=r(91321),o=r(30895),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||n(e,"flags")||!s(a,e)?t:i(o,e)}},25650:(e,t,r)=>{var i=r(24229),n=r(9859).RegExp,s=i((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=s||i((function(){return!n("a","y").sticky})),a=s||i((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:o,UNSUPPORTED_Y:s}},42926:(e,t,r)=>{var i=r(24229),n=r(9859).RegExp;e.exports=i((function(){var e=n(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},10461:(e,t,r)=>{var i=r(24229),n=r(9859).RegExp;e.exports=i((function(){var e=n("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},58885:(e,t,r)=>{var i=r(9650),n=TypeError;e.exports=function(e){if(i(e))throw n("Can't call method on "+e);return e}},72101:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},71832:(e,t,r)=>{"use strict";var i=r(31333),n=r(31787),s=r(70095),o=r(7400),a=s("species");e.exports=function(e){var t=i(e),r=n.f;o&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},54555:(e,t,r)=>{var i=r(31787).f,n=r(98270),s=r(70095)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!n(e,s)&&i(e,s,{configurable:!0,value:t})}},44399:(e,t,r)=>{var i=r(33036),n=r(81441),s=i("keys");e.exports=function(e){return s[e]||(s[e]=n(e))}},85353:(e,t,r)=>{var i=r(9859),n=r(18400),s="__core-js_shared__",o=i[s]||n(s,{});e.exports=o},33036:(e,t,r)=>{var i=r(24231),n=r(85353);(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:i?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},37942:(e,t,r)=>{var i=r(21176),n=r(57988),s=r(9650),o=r(70095)("species");e.exports=function(e,t){var r,a=i(e).constructor;return void 0===a||s(r=i(a)[o])?t:n(r)}},30966:(e,t,r)=>{var i=r(65968),n=r(43329),s=r(83326),o=r(58885),a=i("".charAt),l=i("".charCodeAt),u=i("".slice),c=function(e){return function(t,r){var i,c,h=s(o(t)),d=n(r),A=h.length;return d<0||d>=A?e?"":void 0:(i=l(h,d))<55296||i>56319||d+1===A||(c=l(h,d+1))<56320||c>57343?e?a(h,d):i:e?u(h,d,d+2):c-56320+(i-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},57456:(e,t,r)=>{var i=r(80598);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(i)},46650:(e,t,r)=>{var i=r(65968),n=r(34237),s=r(83326),o=r(93124),a=r(58885),l=i(o),u=i("".slice),c=Math.ceil,h=function(e){return function(t,r,i){var o,h,d=s(a(t)),A=n(r),f=d.length,p=void 0===i?" ":s(i);return A<=f||""==p?d:((h=l(p,c((o=A-f)/p.length))).length>o&&(h=u(h,0,o)),e?d+h:h+d)}};e.exports={start:h(!1),end:h(!0)}},77321:(e,t,r)=>{"use strict";var i=r(65968),n=2147483647,s=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",l=RangeError,u=i(o.exec),c=Math.floor,h=String.fromCharCode,d=i("".charCodeAt),A=i([].join),f=i([].push),p=i("".replace),m=i("".split),v=i("".toLowerCase),g=function(e){return e+22+75*(e<26)},y=function(e,t,r){var i=0;for(e=r?c(e/700):e>>1,e+=c(e/t);e>455;)e=c(e/35),i+=36;return c(i+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],r=0,i=e.length;r<i;){var n=d(e,r++);if(n>=55296&&n<=56319&&r<i){var s=d(e,r++);56320==(64512&s)?f(t,((1023&n)<<10)+(1023&s)+65536):(f(t,n),r--)}else f(t,n)}return t}(e);var r,i,s=e.length,o=128,u=0,p=72;for(r=0;r<e.length;r++)(i=e[r])<128&&f(t,h(i));var m=t.length,v=m;for(m&&f(t,"-");v<s;){var w=n;for(r=0;r<e.length;r++)(i=e[r])>=o&&i<w&&(w=i);var b=v+1;if(w-o>c((n-u)/b))throw l(a);for(u+=(w-o)*b,o=w,r=0;r<e.length;r++){if((i=e[r])<o&&++u>n)throw l(a);if(i==o){for(var E=u,x=36;;){var S=x<=p?1:x>=p+26?26:x-p;if(E<S)break;var M=E-S,R=36-S;f(t,h(g(S+M%R))),E=c(M/R),x+=36}f(t,h(g(E))),p=y(u,b,v==m),u=0,v++}}u++,o++}return A(t,"")};e.exports=function(e){var t,r,i=[],n=m(p(v(e),o,"."),".");for(t=0;t<n.length;t++)r=n[t],f(i,u(s,r)?"xn--"+w(r):r);return A(i,".")}},93124:(e,t,r)=>{"use strict";var i=r(43329),n=r(83326),s=r(58885),o=RangeError;e.exports=function(e){var t=n(s(this)),r="",a=i(e);if(a<0||a==1/0)throw o("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},61466:(e,t,r)=>{"use strict";var i=r(1017).end,n=r(9445);e.exports=n("trimEnd")?function(){return i(this)}:"".trimEnd},9445:(e,t,r)=>{var i=r(51805).PROPER,n=r(24229),s=r(41647);e.exports=function(e){return n((function(){return!!s[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||i&&s[e].name!==e}))}},58747:(e,t,r)=>{"use strict";var i=r(1017).start,n=r(9445);e.exports=n("trimStart")?function(){return i(this)}:"".trimStart},1017:(e,t,r)=>{var i=r(65968),n=r(58885),s=r(83326),o=r(41647),a=i("".replace),l="["+o+"]",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),h=function(e){return function(t){var r=s(n(t));return 1&e&&(r=a(r,u,"")),2&e&&(r=a(r,c,"")),r}};e.exports={start:h(1),end:h(2),trim:h(3)}},44860:(e,t,r)=>{var i=r(6358),n=r(24229);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},55795:(e,t,r)=>{var i,n,s,o,a=r(9859),l=r(53171),u=r(97636),c=r(26733),h=r(98270),d=r(24229),A=r(53777),f=r(1909),p=r(22635),m=r(77579),v=r(32023),g=r(28801),y=a.setImmediate,w=a.clearImmediate,b=a.process,E=a.Dispatch,x=a.Function,S=a.MessageChannel,M=a.String,R=0,_={},F="onreadystatechange";try{i=a.location}catch(B){}var T=function(e){if(h(_,e)){var t=_[e];delete _[e],t()}},P=function(e){return function(){T(e)}},I=function(e){T(e.data)},C=function(e){a.postMessage(M(e),i.protocol+"//"+i.host)};y&&w||(y=function(e){m(arguments.length,1);var t=c(e)?e:x(e),r=f(arguments,1);return _[++R]=function(){l(t,void 0,r)},n(R),R},w=function(e){delete _[e]},g?n=function(e){b.nextTick(P(e))}:E&&E.now?n=function(e){E.now(P(e))}:S&&!v?(o=(s=new S).port2,s.port1.onmessage=I,n=u(o.postMessage,o)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!d(C)?(n=C,a.addEventListener("message",I,!1)):n=F in p("script")?function(e){A.appendChild(p("script")).onreadystatechange=function(){A.removeChild(this),T(e)}}:function(e){setTimeout(P(e),0)}),e.exports={set:y,clear:w}},90143:(e,t,r)=>{var i=r(65968);e.exports=i(1..valueOf)},43231:(e,t,r)=>{var i=r(43329),n=Math.max,s=Math.min;e.exports=function(e,t){var r=i(e);return r<0?n(r+t,0):s(r,t)}},19123:(e,t,r)=>{var i=r(92066),n=TypeError;e.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw n("Can't convert number to bigint");return BigInt(t)}},7331:(e,t,r)=>{var i=r(43329),n=r(34237),s=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),r=n(t);if(t!==r)throw s("Wrong length or index");return r}},10905:(e,t,r)=>{var i=r(9337),n=r(58885);e.exports=function(e){return i(n(e))}},43329:(e,t,r)=>{var i=r(50917);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},34237:(e,t,r)=>{var i=r(43329),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},92991:(e,t,r)=>{var i=r(58885),n=Object;e.exports=function(e){return n(i(e))}},84262:(e,t,r)=>{var i=r(72002),n=RangeError;e.exports=function(e,t){var r=i(e);if(r%t)throw n("Wrong offset");return r}},72002:(e,t,r)=>{var i=r(43329),n=RangeError;e.exports=function(e){var t=i(e);if(t<0)throw n("The argument can't be less than 0");return t}},92066:(e,t,r)=>{var i=r(20266),n=r(85052),s=r(49395),o=r(55300),a=r(32914),l=r(70095),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!n(e)||s(e))return e;var r,l=o(e,c);if(l){if(void 0===t&&(t="default"),r=i(l,e,t),!n(r)||s(r))return r;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},39310:(e,t,r)=>{var i=r(92066),n=r(49395);e.exports=function(e){var t=i(e,"string");return n(t)?t:t+""}},71601:(e,t,r)=>{var i={};i[r(70095)("toStringTag")]="z",e.exports="[object z]"===String(i)},83326:(e,t,r)=>{var i=r(81589),n=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return n(e)}},59821:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},42574:(e,t,r)=>{"use strict";var i=r(23103),n=r(9859),s=r(20266),o=r(7400),a=r(48200),l=r(9918),u=r(53816),c=r(57728),h=r(65358),d=r(75762),A=r(82292),f=r(34237),p=r(7331),m=r(84262),v=r(39310),g=r(98270),y=r(81589),w=r(85052),b=r(49395),E=r(22391),x=r(91321),S=r(56540),M=r(78151).f,R=r(35215),_=r(89996).forEach,F=r(71832),T=r(31787),P=r(97933),I=r(56407),C=r(20835),B=I.get,D=I.set,L=I.enforce,O=T.f,N=P.f,k=Math.round,G=n.RangeError,U=u.ArrayBuffer,Q=U.prototype,V=u.DataView,z=l.NATIVE_ARRAY_BUFFER_VIEWS,H=l.TYPED_ARRAY_TAG,j=l.TypedArray,X=l.TypedArrayPrototype,W=l.aTypedArrayConstructor,q=l.isTypedArray,Y="BYTES_PER_ELEMENT",Z="Wrong length",J=function(e,t){W(e);for(var r=0,i=t.length,n=new e(i);i>r;)n[r]=t[r++];return n},K=function(e,t){O(e,t,{get:function(){return B(this)[t]}})},$=function(e){var t;return x(Q,e)||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},ee=function(e,t){return q(e)&&!b(t)&&t in e&&A(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?h(2,e[t]):N(e,t)},re=function(e,t,r){return t=v(t),!(ee(e,t)&&w(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?O(e,t,r):(e[t]=r.value,e)};o?(z||(P.f=te,T.f=re,K(X,"buffer"),K(X,"byteOffset"),K(X,"byteLength"),K(X,"length")),i({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:te,defineProperty:re}),e.exports=function(e,t,r){var o=e.match(/\d+$/)[0]/8,l=e+(r?"Clamped":"")+"Array",u="get"+e,h="set"+e,A=n[l],v=A,g=v&&v.prototype,y={},b=function(e,t){O(e,t,{get:function(){return function(e,t){var r=B(e);return r.view[u](t*o+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var n=B(e);r&&(i=(i=k(i))<0?0:i>255?255:255&i),n.view[h](t*o+n.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};z?a&&(v=t((function(e,t,r,i){return c(e,g),C(w(t)?$(t)?void 0!==i?new A(t,m(r,o),i):void 0!==r?new A(t,m(r,o)):new A(t):q(t)?J(v,t):s(R,v,t):new A(p(t)),e,v)})),S&&S(v,j),_(M(A),(function(e){e in v||d(v,e,A[e])})),v.prototype=g):(v=t((function(e,t,r,i){c(e,g);var n,a,l,u=0,h=0;if(w(t)){if(!$(t))return q(t)?J(v,t):s(R,v,t);n=t,h=m(r,o);var d=t.byteLength;if(void 0===i){if(d%o)throw G(Z);if((a=d-h)<0)throw G(Z)}else if((a=f(i)*o)+h>d)throw G(Z);l=a/o}else l=p(t),n=new U(a=l*o);for(D(e,{buffer:n,byteOffset:h,byteLength:a,length:l,view:new V(n)});u<l;)b(e,u++)})),S&&S(v,j),g=v.prototype=E(X)),g.constructor!==v&&d(g,"constructor",v),L(g).TypedArrayConstructor=v,H&&d(g,H,l);var x=v!=A;y[l]=v,i({global:!0,constructor:!0,forced:x,sham:!z},y),Y in v||d(v,Y,o),Y in g||d(g,Y,o),F(l)}):e.exports=function(){}},48200:(e,t,r)=>{var i=r(9859),n=r(24229),s=r(74575),o=r(9918).NATIVE_ARRAY_BUFFER_VIEWS,a=i.ArrayBuffer,l=i.Int8Array;e.exports=!o||!n((function(){l(1)}))||!n((function(){new l(-1)}))||!s((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||n((function(){return 1!==new l(new a(2),1,void 0).length}))},35215:(e,t,r)=>{var i=r(97636),n=r(20266),s=r(57988),o=r(92991),a=r(39646),l=r(28403),u=r(78830),c=r(91943),h=r(79098),d=r(9918).aTypedArrayConstructor,A=r(19123);e.exports=function(e){var t,r,f,p,m,v,g,y,w=s(this),b=o(e),E=arguments.length,x=E>1?arguments[1]:void 0,S=void 0!==x,M=u(b);if(M&&!c(M))for(y=(g=l(b,M)).next,b=[];!(v=n(y,g)).done;)b.push(v.value);for(S&&E>2&&(x=i(x,arguments[2])),r=a(b),f=new(d(w))(r),p=h(f),t=0;r>t;t++)m=S?x(b[t],t):b[t],f[t]=p?A(m):+m;return f}},81441:(e,t,r)=>{var i=r(65968),n=0,s=Math.random(),o=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++n+s,36)}},34144:(e,t,r)=>{var i=r(24229),n=r(70095),s=r(24231),o=n("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),r+=i+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},66969:(e,t,r)=>{var i=r(44860);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},17137:(e,t,r)=>{var i=r(7400),n=r(24229);e.exports=i&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},77579:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},51180:(e,t,r)=>{var i=r(9859),n=r(26733),s=i.WeakMap;e.exports=n(s)&&/native code/.test(String(s))},63524:(e,t,r)=>{var i=r(49276),n=r(98270),s=r(55391),o=r(31787).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});n(t,e)||o(t,e,{value:s.f(e)})}},55391:(e,t,r)=>{var i=r(70095);t.f=i},70095:(e,t,r)=>{var i=r(9859),n=r(33036),s=r(98270),o=r(81441),a=r(44860),l=r(66969),u=n("wks"),c=i.Symbol,h=c&&c.for,d=l?c:c&&c.withoutSetter||o;e.exports=function(e){if(!s(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&s(c,e)?u[e]=c[e]:u[e]=l&&h?h(t):d(t)}return u[e]}},41647:e=>{e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},65388:(e,t,r)=>{"use strict";var i=r(23103),n=r(9859),s=r(53816),o=r(71832),a="ArrayBuffer",l=s.ArrayBuffer;i({global:!0,constructor:!0,forced:n.ArrayBuffer!==l},{ArrayBuffer:l}),o(a)},72994:(e,t,r)=>{"use strict";var i=r(23103),n=r(65968),s=r(24229),o=r(53816),a=r(21176),l=r(43231),u=r(34237),c=r(37942),h=o.ArrayBuffer,d=o.DataView,A=d.prototype,f=n(h.prototype.slice),p=n(A.getUint8),m=n(A.setUint8);i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(f&&void 0===t)return f(a(this),e);for(var r=a(this).byteLength,i=l(e,r),n=l(void 0===t?r:t,r),s=new(c(this,h))(u(n-i)),o=new d(this),A=new d(s),v=0;i<n;)m(A,v++,p(o,i++));return s}})},84870:(e,t,r)=>{"use strict";var i=r(23103),n=r(34990),s=r(77111),o=r(92991),a=r(39646),l=r(87501);i({target:"Array",proto:!0},{flatMap:function(e){var t,r=o(this),i=a(r);return s(e),(t=l(r,0)).length=n(t,r,r,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},27072:(e,t,r)=>{"use strict";var i=r(23103),n=r(34990),s=r(92991),o=r(39646),a=r(43329),l=r(87501);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=s(this),r=o(t),i=l(t,0);return i.length=n(i,t,t,r,0,void 0===e?1:a(e)),i}})},39529:(e,t,r)=>{"use strict";var i=r(23103),n=r(19540).includes,s=r(24229),o=r(9736);i({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},15735:(e,t,r)=>{"use strict";var i=r(10905),n=r(9736),s=r(45495),o=r(56407),a=r(31787).f,l=r(12707),u=r(33684),c=r(24231),h=r(7400),d="Array Iterator",A=o.set,f=o.getterFor(d);e.exports=l(Array,"Array",(function(e,t){A(this,{type:d,target:i(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==r?i:"values"==r?t[i]:[i,t[i]],!1)}),"values");var p=s.Arguments=s.Array;if(n("keys"),n("values"),n("entries"),!c&&h&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(m){}},9731:(e,t,r)=>{"use strict";var i=r(23103),n=r(43143).right,s=r(96038),o=r(6358),a=r(28801);i({target:"Array",proto:!0,forced:!s("reduceRight")||!a&&o>79&&o<83},{reduceRight:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},43108:(e,t,r)=>{"use strict";var i=r(23103),n=r(43143).left,s=r(96038),o=r(6358),a=r(28801);i({target:"Array",proto:!0,forced:!s("reduce")||!a&&o>79&&o<83},{reduce:function(e){var t=arguments.length;return n(this,e,t,t>1?arguments[1]:void 0)}})},49992:(e,t,r)=>{"use strict";var i=r(23103),n=r(65968),s=r(33718),o=n([].reverse),a=[1,2];i({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),o(this)}})},43430:(e,t,r)=>{"use strict";var i=r(23103),n=r(65968),s=r(77111),o=r(92991),a=r(39646),l=r(79563),u=r(83326),c=r(24229),h=r(33867),d=r(96038),A=r(22671),f=r(48506),p=r(6358),m=r(49811),v=[],g=n(v.sort),y=n(v.push),w=c((function(){v.sort(void 0)})),b=c((function(){v.sort(null)})),E=d("sort"),x=!c((function(){if(p)return p<70;if(!(A&&A>3)){if(f)return!0;if(m)return m<603;var e,t,r,i,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)v.push({k:t+i,v:r})}for(v.sort((function(e,t){return t.v-e.v})),i=0;i<v.length;i++)t=v[i].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));i({target:"Array",proto:!0,forced:w||!b||!E||!x},{sort:function(e){void 0!==e&&s(e);var t=o(this);if(x)return void 0===e?g(t):g(t,e);var r,i,n=[],c=a(t);for(i=0;i<c;i++)i in t&&y(n,t[i]);for(h(n,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:u(t)>u(r)?1:-1}}(e)),r=a(n),i=0;i<r;)t[i]=n[i++];for(;i<c;)l(t,i++);return t}})},53985:(e,t,r)=>{r(9736)("flatMap")},67694:(e,t,r)=>{r(9736)("flat")},39509:(e,t,r)=>{var i=r(23103),n=Math.hypot,s=Math.abs,o=Math.sqrt;i({target:"Math",stat:!0,arity:2,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,i,n=0,a=0,l=arguments.length,u=0;a<l;)u<(r=s(arguments[a++]))?(n=n*(i=u/r)*i+1,u=r):n+=r>0?(i=r/u)*i:r;return u===1/0?1/0:u*o(n)}})},48836:(e,t,r)=>{var i=r(23103),n=r(45496);i({target:"Number",stat:!0,forced:Number.parseFloat!=n},{parseFloat:n})},77208:(e,t,r)=>{var i=r(23103),n=r(36596);i({target:"Number",stat:!0,forced:Number.parseInt!=n},{parseInt:n})},61657:(e,t,r)=>{"use strict";var i=r(23103),n=r(65968),s=r(43329),o=r(90143),a=r(93124),l=r(24229),u=RangeError,c=String,h=Math.floor,d=n(a),A=n("".slice),f=n(1..toFixed),p=function(e,t,r){return 0===t?r:t%2==1?p(e,t-1,r*e):p(e*e,t/2,r)},m=function(e,t,r){for(var i=-1,n=r;++i<6;)n+=t*e[i],e[i]=n%1e7,n=h(n/1e7)},v=function(e,t){for(var r=6,i=0;--r>=0;)i+=e[r],e[r]=h(i/t),i=i%t*1e7},g=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var i=c(e[t]);r=""===r?i:r+d("0",7-i.length)+i}return r};i({target:"Number",proto:!0,forced:l((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!l((function(){f({})}))},{toFixed:function(e){var t,r,i,n,a=o(this),l=s(e),h=[0,0,0,0,0,0],f="",y="0";if(l<0||l>20)throw u("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return c(a);if(a<0&&(f="-",a=-a),a>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(a*p(2,69,1))-69)<0?a*p(2,-t,1):a/p(2,t,1),r*=4503599627370496,(t=52-t)>0){for(m(h,0,r),i=l;i>=7;)m(h,1e7,0),i-=7;for(m(h,p(10,i,1),0),i=t-1;i>=23;)v(h,1<<23),i-=23;v(h,1<<i),m(h,1,1),v(h,2),y=g(h)}else m(h,0,r),m(h,1<<-t,0),y=g(h)+d("0",l);return y=l>0?f+((n=y.length)<=l?"0."+d("0",l-n)+y:A(y,0,n-l)+"."+A(y,n-l)):f+y}})},43105:(e,t,r)=>{var i=r(23103),n=r(47);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},37846:(e,t,r)=>{"use strict";var i=r(23103),n=r(7400),s=r(15020),o=r(77111),a=r(92991),l=r(31787);n&&i({target:"Object",proto:!0,forced:s},{__defineGetter__:function(e,t){l.f(a(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},16635:(e,t,r)=>{"use strict";var i=r(23103),n=r(7400),s=r(15020),o=r(77111),a=r(92991),l=r(31787);n&&i({target:"Object",proto:!0,forced:s},{__defineSetter__:function(e,t){l.f(a(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},81804:(e,t,r)=>{var i=r(23103),n=r(89003),s=r(62324);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return n(e,(function(e,r){s(t,e,r)}),{AS_ENTRIES:!0}),t}})},42586:(e,t,r)=>{"use strict";var i=r(23103),n=r(7400),s=r(15020),o=r(92991),a=r(39310),l=r(67567),u=r(97933).f;n&&i({target:"Object",proto:!0,forced:s},{__lookupGetter__:function(e){var t,r=o(this),i=a(e);do{if(t=u(r,i))return t.get}while(r=l(r))}})},43045:(e,t,r)=>{"use strict";var i=r(23103),n=r(7400),s=r(15020),o=r(92991),a=r(39310),l=r(67567),u=r(97933).f;n&&i({target:"Object",proto:!0,forced:s},{__lookupSetter__:function(e){var t,r=o(this),i=a(e);do{if(t=u(r,i))return t.set}while(r=l(r))}})},13489:(e,t,r)=>{var i=r(23103),n=r(45496);i({global:!0,forced:parseFloat!=n},{parseFloat:n})},68995:(e,t,r)=>{var i=r(23103),n=r(36596);i({global:!0,forced:parseInt!=n},{parseInt:n})},56032:(e,t,r)=>{"use strict";var i=r(23103),n=r(20266),s=r(77111),o=r(16485),a=r(64624),l=r(89003);i({target:"Promise",stat:!0,forced:r(96866)},{all:function(e){var t=this,r=o.f(t),i=r.resolve,u=r.reject,c=a((function(){var r=s(t.resolve),o=[],a=0,c=1;l(e,(function(e){var s=a++,l=!1;c++,n(r,t,e).then((function(e){l||(l=!0,o[s]=e,--c||i(o))}),u)})),--c||i(o)}));return c.error&&u(c.value),r.promise}})},6135:(e,t,r)=>{"use strict";var i=r(23103),n=r(24231),s=r(38321).CONSTRUCTOR,o=r(74473),a=r(31333),l=r(26733),u=r(14768),c=o&&o.prototype;if(i({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(e){return this.then(void 0,e)}}),!n&&l(o)){var h=a("Promise").prototype.catch;c.catch!==h&&u(c,"catch",h,{unsafe:!0})}},86087:(e,t,r)=>{"use strict";var i,n,s,o=r(23103),a=r(24231),l=r(28801),u=r(9859),c=r(20266),h=r(14768),d=r(56540),A=r(54555),f=r(71832),p=r(77111),m=r(26733),v=r(85052),g=r(57728),y=r(37942),w=r(55795).set,b=r(24794),E=r(14665),x=r(64624),S=r(93358),M=r(56407),R=r(74473),_=r(38321),F=r(16485),T="Promise",P=_.CONSTRUCTOR,I=_.REJECTION_EVENT,C=_.SUBCLASSING,B=M.getterFor(T),D=M.set,L=R&&R.prototype,O=R,N=L,k=u.TypeError,G=u.document,U=u.process,Q=F.f,V=Q,z=!!(G&&G.createEvent&&u.dispatchEvent),H="unhandledrejection",j=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},X=function(e,t){var r,i,n,s=t.value,o=1==t.state,a=o?e.ok:e.fail,l=e.resolve,u=e.reject,h=e.domain;try{a?(o||(2===t.rejection&&J(t),t.rejection=1),!0===a?r=s:(h&&h.enter(),r=a(s),h&&(h.exit(),n=!0)),r===e.promise?u(k("Promise-chain cycle")):(i=j(r))?c(i,r,l,u):l(r)):u(s)}catch(d){h&&!n&&h.exit(),u(d)}},W=function(e,t){e.notified||(e.notified=!0,b((function(){for(var r,i=e.reactions;r=i.get();)X(r,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},q=function(e,t,r){var i,n;z?((i=G.createEvent("Event")).promise=t,i.reason=r,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:r},!I&&(n=u["on"+e])?n(i):e===H&&E("Unhandled promise rejection",r)},Y=function(e){c(w,u,(function(){var t,r=e.facade,i=e.value;if(Z(e)&&(t=x((function(){l?U.emit("unhandledRejection",i,r):q(H,r,i)})),e.rejection=l||Z(e)?2:1,t.error))throw t.value}))},Z=function(e){return 1!==e.rejection&&!e.parent},J=function(e){c(w,u,(function(){var t=e.facade;l?U.emit("rejectionHandled",t):q("rejectionhandled",t,e.value)}))},K=function(e,t,r){return function(i){e(t,i,r)}},$=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,W(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw k("Promise can't be resolved itself");var i=j(t);i?b((function(){var r={done:!1};try{c(i,t,K(ee,r,e),K($,r,e))}catch(n){$(r,n,e)}})):(e.value=t,e.state=1,W(e,!1))}catch(n){$({done:!1},n,e)}}};if(P&&(N=(O=function(e){g(this,N),p(e),c(i,this);var t=B(this);try{e(K(ee,t),K($,t))}catch(r){$(t,r)}}).prototype,(i=function(e){D(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=h(N,"then",(function(e,t){var r=B(this),i=Q(y(this,O));return r.parent=!0,i.ok=!m(e)||e,i.fail=m(t)&&t,i.domain=l?U.domain:void 0,0==r.state?r.reactions.add(i):b((function(){X(i,r)})),i.promise})),n=function(){var e=new i,t=B(e);this.promise=e,this.resolve=K(ee,t),this.reject=K($,t)},F.f=Q=function(e){return e===O||undefined===e?new n(e):V(e)},!a&&m(R)&&L!==Object.prototype)){s=L.then,C||h(L,"then",(function(e,t){var r=this;return new O((function(e,t){c(s,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(te){}d&&d(L,N)}o({global:!0,constructor:!0,wrap:!0,forced:P},{Promise:O}),A(O,T,!1,!0),f(T)},21515:(e,t,r)=>{"use strict";var i=r(23103),n=r(24231),s=r(74473),o=r(24229),a=r(31333),l=r(26733),u=r(37942),c=r(62391),h=r(14768),d=s&&s.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!s&&o((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,a("Promise")),r=l(e);return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}}),!n&&l(s)){var A=a("Promise").prototype.finally;d.finally!==A&&h(d,"finally",A,{unsafe:!0})}},73439:(e,t,r)=>{r(86087),r(56032),r(6135),r(26767),r(39320),r(52047)},26767:(e,t,r)=>{"use strict";var i=r(23103),n=r(20266),s=r(77111),o=r(16485),a=r(64624),l=r(89003);i({target:"Promise",stat:!0,forced:r(96866)},{race:function(e){var t=this,r=o.f(t),i=r.reject,u=a((function(){var o=s(t.resolve);l(e,(function(e){n(o,t,e).then(r.resolve,i)}))}));return u.error&&i(u.value),r.promise}})},39320:(e,t,r)=>{"use strict";var i=r(23103),n=r(20266),s=r(16485);i({target:"Promise",stat:!0,forced:r(38321).CONSTRUCTOR},{reject:function(e){var t=s.f(this);return n(t.reject,void 0,e),t.promise}})},52047:(e,t,r)=>{"use strict";var i=r(23103),n=r(31333),s=r(24231),o=r(74473),a=r(38321).CONSTRUCTOR,l=r(62391),u=n("Promise"),c=s&&!a;i({target:"Promise",stat:!0,forced:s||a},{resolve:function(e){return l(c&&this===u?o:this,e)}})},98738:(e,t,r)=>{var i=r(23103),n=r(20266),s=r(21176),o=r(85052),a=r(90193),l=r(24229),u=r(31787),c=r(97933),h=r(67567),d=r(65358);i({target:"Reflect",stat:!0,forced:l((function(){var e=function(){},t=u.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,r,i){var l,A,f,p=arguments.length<4?t:arguments[3],m=c.f(s(t),r);if(!m){if(o(A=h(t)))return e(A,r,i,p);m=d(0)}if(a(m)){if(!1===m.writable||!o(p))return!1;if(l=c.f(p,r)){if(l.get||l.set||!1===l.writable)return!1;l.value=i,u.f(p,r,l)}else u.f(p,r,d(0,i))}else{if(void 0===(f=m.set))return!1;n(f,p,i)}return!0}})},17368:(e,t,r)=>{var i=r(7400),n=r(9859),s=r(65968),o=r(46541),a=r(20835),l=r(75762),u=r(78151).f,c=r(91321),h=r(48311),d=r(83326),A=r(83349),f=r(25650),p=r(26060),m=r(14768),v=r(24229),g=r(98270),y=r(56407).enforce,w=r(71832),b=r(70095),E=r(42926),x=r(10461),S=b("match"),M=n.RegExp,R=M.prototype,_=n.SyntaxError,F=s(R.exec),T=s("".charAt),P=s("".replace),I=s("".indexOf),C=s("".slice),B=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,D=/a/g,L=/a/g,O=new M(D)!==D,N=f.MISSED_STICKY,k=f.UNSUPPORTED_Y,G=i&&(!O||N||E||x||v((function(){return L[S]=!1,M(D)!=D||M(L)==L||"/a/i"!=M(D,"i")})));if(o("RegExp",G)){for(var U=function(e,t){var r,i,n,s,o,u,f=c(R,this),p=h(e),m=void 0===t,v=[],w=e;if(!f&&p&&m&&e.constructor===U)return e;if((p||c(R,e))&&(e=e.source,m&&(t=A(w))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),w=e,E&&"dotAll"in D&&(i=!!t&&I(t,"s")>-1)&&(t=P(t,/s/g,"")),r=t,N&&"sticky"in D&&(n=!!t&&I(t,"y")>-1)&&k&&(t=P(t,/y/g,"")),x&&(s=function(e){for(var t,r=e.length,i=0,n="",s=[],o={},a=!1,l=!1,u=0,c="";i<=r;i++){if("\\"===(t=T(e,i)))t+=T(e,++i);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:F(B,C(e,i+1))&&(i+=2,l=!0),n+=t,u++;continue;case">"===t&&l:if(""===c||g(o,c))throw new _("Invalid capture group name");o[c]=!0,s[s.length]=[c,u],l=!1,c="";continue}l?c+=t:n+=t}return[n,s]}(e),e=s[0],v=s[1]),o=a(M(e,t),f?this:R,U),(i||n||v.length)&&(u=y(o),i&&(u.dotAll=!0,u.raw=U(function(e){for(var t,r=e.length,i=0,n="",s=!1;i<=r;i++)"\\"!==(t=T(e,i))?s||"."!==t?("["===t?s=!0:"]"===t&&(s=!1),n+=t):n+="[\\s\\S]":n+=t+T(e,++i);return n}(e),r)),n&&(u.sticky=!0),v.length&&(u.groups=v)),e!==w)try{l(o,"source",""===w?"(?:)":w)}catch(b){}return o},Q=u(M),V=0;Q.length>V;)p(U,M,Q[V++]);R.constructor=U,U.prototype=R,m(n,"RegExp",U,{constructor:!0})}w("RegExp")},77950:(e,t,r)=>{"use strict";var i=r(23103),n=r(63466);i({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},90103:(e,t,r)=>{var i=r(9859),n=r(7400),s=r(16102),o=r(30895),a=r(24229),l=i.RegExp,u=l.prototype;n&&a((function(){var e=!0;try{l(".","d")}catch(a){e=!1}var t={},r="",i=e?"dgimsy":"gimsy",n=function(e,i){Object.defineProperty(t,e,{get:function(){return r+=i,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(s.hasIndices="d"),s)n(o,s[o]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==i||r!==i}))&&s(u,"flags",{configurable:!0,get:o})},88233:(e,t,r)=>{"use strict";var i=r(51805).PROPER,n=r(14768),s=r(21176),o=r(83326),a=r(24229),l=r(83349),u="toString",c=RegExp.prototype.toString,h=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=i&&c.name!=u;(h||d)&&n(RegExp.prototype,u,(function(){var e=s(this);return"/"+o(e.source)+"/"+o(l(e))}),{unsafe:!0})},96708:(e,t,r)=>{"use strict";var i,n=r(23103),s=r(65968),o=r(97933).f,a=r(34237),l=r(83326),u=r(47272),c=r(58885),h=r(48127),d=r(24231),A=s("".endsWith),f=s("".slice),p=Math.min,m=h("endsWith");n({target:"String",proto:!0,forced:!!(d||m||(i=o(String.prototype,"endsWith"),!i||i.writable))&&!m},{endsWith:function(e){var t=l(c(this));u(e);var r=arguments.length>1?arguments[1]:void 0,i=t.length,n=void 0===r?i:p(a(r),i),s=l(e);return A?A(t,s,n):f(t,n-s.length,n)===s}})},31235:(e,t,r)=>{"use strict";var i=r(23103),n=r(65968),s=r(47272),o=r(58885),a=r(83326),l=r(48127),u=n("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~u(a(o(this)),a(s(e)),arguments.length>1?arguments[1]:void 0)}})},28673:(e,t,r)=>{"use strict";var i=r(30966).charAt,n=r(83326),s=r(56407),o=r(12707),a=r(33684),l="String Iterator",u=s.set,c=s.getterFor(l);o(String,"String",(function(e){u(this,{type:l,string:n(e),index:0})}),(function(){var e,t=c(this),r=t.string,n=t.index;return n>=r.length?a(void 0,!0):(e=i(r,n),t.index+=e.length,a(e,!1))}))},74069:(e,t,r)=>{"use strict";var i=r(20266),n=r(94954),s=r(21176),o=r(9650),a=r(34237),l=r(83326),u=r(58885),c=r(55300),h=r(36637),d=r(98115);n("match",(function(e,t,r){return[function(t){var r=u(this),n=o(t)?void 0:c(t,e);return n?i(n,t,r):new RegExp(t)[e](l(r))},function(e){var i=s(this),n=l(e),o=r(t,i,n);if(o.done)return o.value;if(!i.global)return d(i,n);var u=i.unicode;i.lastIndex=0;for(var c,A=[],f=0;null!==(c=d(i,n));){var p=l(c[0]);A[f]=p,""===p&&(i.lastIndex=h(n,a(i.lastIndex),u)),f++}return 0===f?null:A}]}))},90977:(e,t,r)=>{"use strict";var i=r(23103),n=r(46650).end;i({target:"String",proto:!0,forced:r(57456)},{padEnd:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},35734:(e,t,r)=>{"use strict";var i=r(23103),n=r(46650).start;i({target:"String",proto:!0,forced:r(57456)},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},85940:(e,t,r)=>{"use strict";var i=r(53171),n=r(20266),s=r(65968),o=r(94954),a=r(24229),l=r(21176),u=r(26733),c=r(9650),h=r(43329),d=r(34237),A=r(83326),f=r(58885),p=r(36637),m=r(55300),v=r(70017),g=r(98115),y=r(70095)("replace"),w=Math.max,b=Math.min,E=s([].concat),x=s([].push),S=s("".indexOf),M=s("".slice),R="$0"==="a".replace(/./,"$0"),_=!!/./[y]&&""===/./[y]("a","$0");o("replace",(function(e,t,r){var s=_?"$":"$0";return[function(e,r){var i=f(this),s=c(e)?void 0:m(e,y);return s?n(s,e,i,r):n(t,A(i),e,r)},function(e,n){var o=l(this),a=A(e);if("string"==typeof n&&-1===S(n,s)&&-1===S(n,"$<")){var c=r(t,o,a,n);if(c.done)return c.value}var f=u(n);f||(n=A(n));var m=o.global;if(m){var y=o.unicode;o.lastIndex=0}for(var R=[];;){var _=g(o,a);if(null===_)break;if(x(R,_),!m)break;""===A(_[0])&&(o.lastIndex=p(a,d(o.lastIndex),y))}for(var F,T="",P=0,I=0;I<R.length;I++){for(var C=A((_=R[I])[0]),B=w(b(h(_.index),a.length),0),D=[],L=1;L<_.length;L++)x(D,void 0===(F=_[L])?F:String(F));var O=_.groups;if(f){var N=E([C],D,B,a);void 0!==O&&x(N,O);var k=A(i(n,void 0,N))}else k=v(C,a,B,D,O,n);B>=P&&(T+=M(a,P,B)+k,P=B+C.length)}return T+M(a,P)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!R||_)},94908:(e,t,r)=>{"use strict";var i=r(20266),n=r(94954),s=r(21176),o=r(9650),a=r(58885),l=r(72101),u=r(83326),c=r(55300),h=r(98115);n("search",(function(e,t,r){return[function(t){var r=a(this),n=o(t)?void 0:c(t,e);return n?i(n,t,r):new RegExp(t)[e](u(r))},function(e){var i=s(this),n=u(e),o=r(t,i,n);if(o.done)return o.value;var a=i.lastIndex;l(a,0)||(i.lastIndex=0);var c=h(i,n);return l(i.lastIndex,a)||(i.lastIndex=a),null===c?-1:c.index}]}))},48319:(e,t,r)=>{"use strict";var i=r(53171),n=r(20266),s=r(65968),o=r(94954),a=r(21176),l=r(9650),u=r(48311),c=r(58885),h=r(37942),d=r(36637),A=r(34237),f=r(83326),p=r(55300),m=r(69794),v=r(98115),g=r(63466),y=r(25650),w=r(24229),b=y.UNSUPPORTED_Y,E=4294967295,x=Math.min,S=[].push,M=s(/./.exec),R=s(S),_=s("".slice);o("split",(function(e,t,r){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var s=f(c(this)),o=void 0===r?E:r>>>0;if(0===o)return[];if(void 0===e)return[s];if(!u(e))return n(t,s,e,o);for(var a,l,h,d=[],A=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=new RegExp(e.source,A+"g");(a=n(g,v,s))&&!((l=v.lastIndex)>p&&(R(d,_(s,p,a.index)),a.length>1&&a.index<s.length&&i(S,d,m(a,1)),h=a[0].length,p=l,d.length>=o));)v.lastIndex===a.index&&v.lastIndex++;return p===s.length?!h&&M(v,"")||R(d,""):R(d,_(s,p)),d.length>o?m(d,0,o):d}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:n(t,this,e,r)}:t,[function(t,r){var i=c(this),o=l(t)?void 0:p(t,e);return o?n(o,t,i,r):n(s,f(i),t,r)},function(e,i){var n=a(this),o=f(e),l=r(s,n,o,i,s!==t);if(l.done)return l.value;var u=h(n,RegExp),c=n.unicode,p=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(b?"g":"y"),m=new u(b?"^(?:"+n.source+")":n,p),g=void 0===i?E:i>>>0;if(0===g)return[];if(0===o.length)return null===v(m,o)?[o]:[];for(var y=0,w=0,S=[];w<o.length;){m.lastIndex=b?0:w;var M,F=v(m,b?_(o,w):o);if(null===F||(M=x(A(m.lastIndex+(b?w:0)),o.length))===y)w=d(o,w,c);else{if(R(S,_(o,y,w)),S.length===g)return S;for(var T=1;T<=F.length-1;T++)if(R(S,F[T]),S.length===g)return S;w=y=M}}return R(S,_(o,y)),S}]}),!!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),b)},44112:(e,t,r)=>{"use strict";var i,n=r(23103),s=r(65968),o=r(97933).f,a=r(34237),l=r(83326),u=r(47272),c=r(58885),h=r(48127),d=r(24231),A=s("".startsWith),f=s("".slice),p=Math.min,m=h("startsWith");n({target:"String",proto:!0,forced:!!(d||m||(i=o(String.prototype,"startsWith"),!i||i.writable))&&!m},{startsWith:function(e){var t=l(c(this));u(e);var r=a(p(arguments.length>1?arguments[1]:void 0,t.length)),i=l(e);return A?A(t,i,r):f(t,r,r+i.length)===i}})},18827:(e,t,r)=>{r(65625);var i=r(23103),n=r(61466);i({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==n},{trimEnd:n})},18763:(e,t,r)=>{var i=r(23103),n=r(58747);i({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==n},{trimLeft:n})},65625:(e,t,r)=>{var i=r(23103),n=r(61466);i({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==n},{trimRight:n})},41715:(e,t,r)=>{r(18763);var i=r(23103),n=r(58747);i({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==n},{trimStart:n})},45794:(e,t,r)=>{"use strict";var i=r(23103),n=r(1017).trim;i({target:"String",proto:!0,forced:r(9445)("trim")},{trim:function(){return n(this)}})},96882:(e,t,r)=>{r(63524)("asyncIterator")},634:(e,t,r)=>{"use strict";var i=r(23103),n=r(7400),s=r(9859),o=r(65968),a=r(98270),l=r(26733),u=r(91321),c=r(83326),h=r(31787).f,d=r(77081),A=s.Symbol,f=A&&A.prototype;if(n&&l(A)&&(!("description"in f)||void 0!==A().description)){var p={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(f,this)?new A(e):void 0===e?A():A(e);return""===e&&(p[t]=!0),t};d(m,A),m.prototype=f,f.constructor=m;var v="Symbol(test)"==String(A("test")),g=o(f.valueOf),y=o(f.toString),w=/^Symbol\((.*)\)[^)]+$/,b=o("".replace),E=o("".slice);h(f,"description",{configurable:!0,get:function(){var e=g(this);if(a(p,e))return"";var t=y(e),r=v?E(t,7,-1):b(t,w,"$1");return""===r?void 0:r}}),i({global:!0,constructor:!0,forced:!0},{Symbol:m})}},64844:(e,t,r)=>{r(63524)("match")},40225:(e,t,r)=>{r(63524)("replace")},71686:(e,t,r)=>{r(63524)("search")},68223:(e,t,r)=>{r(63524)("split")},38857:(e,t,r)=>{"use strict";var i=r(9918),n=r(97065),s=r(19123),o=r(81589),a=r(20266),l=r(65968),u=r(24229),c=i.aTypedArray,h=i.exportTypedArrayMethod,d=l("".slice);h("fill",(function(e){var t=arguments.length;c(this);var r="Big"===d(o(this),0,3)?s(e):+e;return a(n,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},81382:(e,t,r)=>{r(42574)("Float32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},91982:(e,t,r)=>{r(42574)("Float64",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},26618:(e,t,r)=>{"use strict";var i=r(48200);(0,r(9918).exportTypedArrayStaticMethod)("from",r(35215),i)},24074:(e,t,r)=>{r(42574)("Int16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},64696:(e,t,r)=>{r(42574)("Int32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},73229:(e,t,r)=>{r(42574)("Int8",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},49527:(e,t,r)=>{"use strict";var i=r(9918),n=r(48200),s=i.aTypedArrayConstructor;(0,i.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(s(this))(t);t>e;)r[e]=arguments[e++];return r}),n)},65688:(e,t,r)=>{"use strict";var i=r(9859),n=r(20266),s=r(9918),o=r(39646),a=r(84262),l=r(92991),u=r(24229),c=i.RangeError,h=i.Int8Array,d=h&&h.prototype,A=d&&d.set,f=s.aTypedArray,p=s.exportTypedArrayMethod,m=!u((function(){var e=new Uint8ClampedArray(2);return n(A,e,{length:1,0:3},1),3!==e[1]})),v=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));p("set",(function(e){f(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(m)return n(A,this,r,t);var i=this.length,s=o(r),u=0;if(s+t>i)throw c("Wrong length");for(;u<s;)this[t+u]=r[u++]}),!m||v)},70315:(e,t,r)=>{"use strict";var i=r(9859),n=r(65968),s=r(24229),o=r(77111),a=r(33867),l=r(9918),u=r(22671),c=r(48506),h=r(6358),d=r(49811),A=l.aTypedArray,f=l.exportTypedArrayMethod,p=i.Uint16Array,m=p&&n(p.prototype.sort),v=!(!m||s((function(){m(new p(2),null)}))&&s((function(){m(new p(2),{})}))),g=!!m&&!s((function(){if(h)return h<74;if(u)return u<67;if(c)return!0;if(d)return d<602;var e,t,r=new p(516),i=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,i[e]=e-2*t+3;for(m(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==i[e])return!0}));f("sort",(function(e){return void 0!==e&&o(e),g?m(this,e):a(A(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!g||v)},50556:(e,t,r)=>{"use strict";var i=r(9859),n=r(53171),s=r(9918),o=r(24229),a=r(1909),l=i.Int8Array,u=s.aTypedArray,c=s.exportTypedArrayMethod,h=[].toLocaleString,d=!!l&&o((function(){h.call(new l(1))}));c("toLocaleString",(function(){return n(h,d?a(u(this)):u(this),a(arguments))}),o((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!o((function(){l.prototype.toLocaleString.call([1,2])})))},13161:(e,t,r)=>{r(42574)("Uint16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},90723:(e,t,r)=>{r(42574)("Uint32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},13675:(e,t,r)=>{r(42574)("Uint8",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},36920:(e,t,r)=>{r(42574)("Uint8",(function(e){return function(t,r,i){return e(this,t,r,i)}}),!0)},78596:(e,t,r)=>{var i=r(23103),n=r(9859),s=r(55795).clear;i({global:!0,bind:!0,enumerable:!0,forced:n.clearImmediate!==s},{clearImmediate:s})},6886:(e,t,r)=>{var i=r(9859),n=r(95694),s=r(18865),o=r(15735),a=r(75762),l=r(70095),u=l("iterator"),c=l("toStringTag"),h=o.values,d=function(e,t){if(e){if(e[u]!==h)try{a(e,u,h)}catch(i){e[u]=h}if(e[c]||a(e,c,t),n[t])for(var r in o)if(e[r]!==o[r])try{a(e,r,o[r])}catch(i){e[r]=o[r]}}};for(var A in n)d(i[A]&&i[A].prototype,A);d(s,"DOMTokenList")},46106:(e,t,r)=>{r(78596),r(86471)},19866:(e,t,r)=>{var i=r(23103),n=r(9859),s=r(24794),o=r(77111),a=r(77579),l=r(28801),u=n.process;i({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){a(arguments.length,1),o(e);var t=l&&u.domain;s(t?t.bind(e):e)}})},86471:(e,t,r)=>{var i=r(23103),n=r(9859),s=r(55795).set;i({global:!0,bind:!0,enumerable:!0,forced:n.setImmediate!==s},{setImmediate:s})},62653:(e,t,r)=>{"use strict";r(15735);var i=r(23103),n=r(9859),s=r(20266),o=r(65968),a=r(7400),l=r(34144),u=r(14768),c=r(8312),h=r(54555),d=r(42247),A=r(56407),f=r(57728),p=r(26733),m=r(98270),v=r(97636),g=r(81589),y=r(21176),w=r(85052),b=r(83326),E=r(22391),x=r(65358),S=r(28403),M=r(78830),R=r(77579),_=r(70095),F=r(33867),T=_("iterator"),P="URLSearchParams",I="URLSearchParamsIterator",C=A.set,B=A.getterFor(P),D=A.getterFor(I),L=Object.getOwnPropertyDescriptor,O=function(e){if(!a)return n[e];var t=L(n,e);return t&&t.value},N=O("fetch"),k=O("Request"),G=O("Headers"),U=k&&k.prototype,Q=G&&G.prototype,V=n.RegExp,z=n.TypeError,H=n.decodeURIComponent,j=n.encodeURIComponent,X=o("".charAt),W=o([].join),q=o([].push),Y=o("".replace),Z=o([].shift),J=o([].splice),K=o("".split),$=o("".slice),ee=/\+/g,te=Array(4),re=function(e){return te[e-1]||(te[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return H(e)}catch(t){return e}},ne=function(e){var t=Y(e,ee," "),r=4;try{return H(t)}catch(i){for(;r;)t=Y(t,re(r--),ie);return t}},se=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return oe[e]},le=function(e){return Y(j(e),se,ae)},ue=d((function(e,t){C(this,{type:I,iterator:S(B(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,r=e.iterator.next(),i=r.value;return r.done||(r.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),r}),!0),ce=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===X(e,0)?$(e,1):e:b(e)))};ce.prototype={type:P,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,i,n,o,a,l,u=M(e);if(u)for(r=(t=S(e,u)).next;!(i=s(r,t)).done;){if(o=(n=S(y(i.value))).next,(a=s(o,n)).done||(l=s(o,n)).done||!s(o,n).done)throw z("Expected sequence with length 2");q(this.entries,{key:b(a.value),value:b(l.value)})}else for(var c in e)m(e,c)&&q(this.entries,{key:c,value:b(e[c])})},parseQuery:function(e){if(e)for(var t,r,i=K(e,"&"),n=0;n<i.length;)(t=i[n++]).length&&(r=K(t,"="),q(this.entries,{key:ne(Z(r)),value:ne(W(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],i=0;i<t.length;)e=t[i++],q(r,le(e.key)+"="+le(e.value));return W(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){f(this,de);var e=arguments.length>0?arguments[0]:void 0;C(this,new ce(e))},de=he.prototype;if(c(de,{append:function(e,t){R(arguments.length,2);var r=B(this);q(r.entries,{key:b(e),value:b(t)}),r.updateURL()},delete:function(e){R(arguments.length,1);for(var t=B(this),r=t.entries,i=b(e),n=0;n<r.length;)r[n].key===i?J(r,n,1):n++;t.updateURL()},get:function(e){R(arguments.length,1);for(var t=B(this).entries,r=b(e),i=0;i<t.length;i++)if(t[i].key===r)return t[i].value;return null},getAll:function(e){R(arguments.length,1);for(var t=B(this).entries,r=b(e),i=[],n=0;n<t.length;n++)t[n].key===r&&q(i,t[n].value);return i},has:function(e){R(arguments.length,1);for(var t=B(this).entries,r=b(e),i=0;i<t.length;)if(t[i++].key===r)return!0;return!1},set:function(e,t){R(arguments.length,1);for(var r,i=B(this),n=i.entries,s=!1,o=b(e),a=b(t),l=0;l<n.length;l++)(r=n[l]).key===o&&(s?J(n,l--,1):(s=!0,r.value=a));s||q(n,{key:o,value:a}),i.updateURL()},sort:function(){var e=B(this);F(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=B(this).entries,i=v(e,arguments.length>1?arguments[1]:void 0),n=0;n<r.length;)i((t=r[n++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(de,T,de.entries,{name:"entries"}),u(de,"toString",(function(){return B(this).serialize()}),{enumerable:!0}),h(he,P),i({global:!0,constructor:!0,forced:!l},{URLSearchParams:he}),!l&&p(G)){var Ae=o(Q.has),fe=o(Q.set),pe=function(e){if(w(e)){var t,r=e.body;if(g(r)===P)return t=e.headers?new G(e.headers):new G,Ae(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:x(0,b(r)),headers:x(0,t)})}return e};if(p(N)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return N(e,arguments.length>1?pe(arguments[1]):{})}}),p(k)){var me=function(e){return f(this,U),new k(e,arguments.length>1?pe(arguments[1]):{})};U.constructor=me,me.prototype=U,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:he,getState:B}},60523:(e,t,r)=>{r(62653)},95340:(e,t,r)=>{"use strict";r(28673);var i,n=r(23103),s=r(7400),o=r(34144),a=r(9859),l=r(97636),u=r(65968),c=r(14768),h=r(16102),d=r(57728),A=r(98270),f=r(47),p=r(10507),m=r(69794),v=r(30966).codeAt,g=r(77321),y=r(83326),w=r(54555),b=r(77579),E=r(62653),x=r(56407),S=x.set,M=x.getterFor("URL"),R=E.URLSearchParams,_=E.getState,F=a.URL,T=a.TypeError,P=a.parseInt,I=Math.floor,C=Math.pow,B=u("".charAt),D=u(/./.exec),L=u([].join),O=u(1..toString),N=u([].pop),k=u([].push),G=u("".replace),U=u([].shift),Q=u("".split),V=u("".slice),z=u("".toLowerCase),H=u([].unshift),j="Invalid scheme",X="Invalid host",W="Invalid port",q=/[a-z]/i,Y=/[\d+-.a-z]/i,Z=/\d/,J=/^0x/i,K=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ne=/[\t\n\r]/g,se=function(e){var t,r,i,n;if("number"==typeof e){for(t=[],r=0;r<4;r++)H(t,e%256),e=I(e/256);return L(t,".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,r=1,i=null,n=0,s=0;s<8;s++)0!==e[s]?(n>r&&(t=i,r=n),i=null,n=0):(null===i&&(i=s),++n);return n>r&&(t=i,r=n),t}(e),r=0;r<8;r++)n&&0===e[r]||(n&&(n=!1),i===r?(t+=r?":":"::",n=!0):(t+=O(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},oe={},ae=f({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),le=f({},ae,{"#":1,"?":1,"{":1,"}":1}),ue=f({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(e,t){var r=v(e,0);return r>32&&r<127&&!A(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var r;return 2==e.length&&D(q,B(e,0))&&(":"==(r=B(e,1))||!t&&"|"==r)},Ae=function(e){var t;return e.length>1&&de(V(e,0,2))&&(2==e.length||"/"===(t=B(e,2))||"\\"===t||"?"===t||"#"===t)},fe=function(e){return"."===e||"%2e"===z(e)},pe={},me={},ve={},ge={},ye={},we={},be={},Ee={},xe={},Se={},Me={},Re={},_e={},Fe={},Te={},Pe={},Ie={},Ce={},Be={},De={},Le={},Oe=function(e,t,r){var i,n,s,o=y(e);if(t){if(n=this.parse(o))throw T(n);this.searchParams=null}else{if(void 0!==r&&(i=new Oe(r,!0)),n=this.parse(o,null,i))throw T(n);(s=_(new R)).bindURL(this),this.searchParams=s}};Oe.prototype={type:"URL",parse:function(e,t,r){var n,s,o,a,l,u=this,c=t||pe,h=0,d="",f=!1,v=!1,g=!1;for(e=y(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=G(e,ie,"")),e=G(e,ne,""),n=p(e);h<=n.length;){switch(s=n[h],c){case pe:if(!s||!D(q,s)){if(t)return j;c=ve;continue}d+=z(s),c=me;break;case me:if(s&&(D(Y,s)||"+"==s||"-"==s||"."==s))d+=z(s);else{if(":"!=s){if(t)return j;d="",c=ve,h=0;continue}if(t&&(u.isSpecial()!=A(he,d)||"file"==d&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=d,t)return void(u.isSpecial()&&he[u.scheme]==u.port&&(u.port=null));d="","file"==u.scheme?c=Fe:u.isSpecial()&&r&&r.scheme==u.scheme?c=ge:u.isSpecial()?c=Ee:"/"==n[h+1]?(c=ye,h++):(u.cannotBeABaseURL=!0,k(u.path,""),c=Be)}break;case ve:if(!r||r.cannotBeABaseURL&&"#"!=s)return j;if(r.cannotBeABaseURL&&"#"==s){u.scheme=r.scheme,u.path=m(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,c=Le;break}c="file"==r.scheme?Fe:we;continue;case ge:if("/"!=s||"/"!=n[h+1]){c=we;continue}c=xe,h++;break;case ye:if("/"==s){c=Se;break}c=Ce;continue;case we:if(u.scheme=r.scheme,s==i)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query=r.query;else if("/"==s||"\\"==s&&u.isSpecial())c=be;else if("?"==s)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query="",c=De;else{if("#"!=s){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.path.length--,c=Ce;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query=r.query,u.fragment="",c=Le}break;case be:if(!u.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,c=Ce;continue}c=Se}else c=xe;break;case Ee:if(c=xe,"/"!=s||"/"!=B(d,h+1))continue;h++;break;case xe:if("/"!=s&&"\\"!=s){c=Se;continue}break;case Se:if("@"==s){f&&(d="%40"+d),f=!0,o=p(d);for(var w=0;w<o.length;w++){var b=o[w];if(":"!=b||g){var E=ce(b,ue);g?u.password+=E:u.username+=E}else g=!0}d=""}else if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&u.isSpecial()){if(f&&""==d)return"Invalid authority";h-=p(d).length+1,d="",c=Me}else d+=s;break;case Me:case Re:if(t&&"file"==u.scheme){c=Pe;continue}if(":"!=s||v){if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&u.isSpecial()){if(u.isSpecial()&&""==d)return X;if(t&&""==d&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(d))return a;if(d="",c=Ie,t)return;continue}"["==s?v=!0:"]"==s&&(v=!1),d+=s}else{if(""==d)return X;if(a=u.parseHost(d))return a;if(d="",c=_e,t==Re)return}break;case _e:if(!D(Z,s)){if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&u.isSpecial()||t){if(""!=d){var x=P(d,10);if(x>65535)return W;u.port=u.isSpecial()&&x===he[u.scheme]?null:x,d=""}if(t)return;c=Ie;continue}return W}d+=s;break;case Fe:if(u.scheme="file","/"==s||"\\"==s)c=Te;else{if(!r||"file"!=r.scheme){c=Ce;continue}if(s==i)u.host=r.host,u.path=m(r.path),u.query=r.query;else if("?"==s)u.host=r.host,u.path=m(r.path),u.query="",c=De;else{if("#"!=s){Ae(L(m(n,h),""))||(u.host=r.host,u.path=m(r.path),u.shortenPath()),c=Ce;continue}u.host=r.host,u.path=m(r.path),u.query=r.query,u.fragment="",c=Le}}break;case Te:if("/"==s||"\\"==s){c=Pe;break}r&&"file"==r.scheme&&!Ae(L(m(n,h),""))&&(de(r.path[0],!0)?k(u.path,r.path[0]):u.host=r.host),c=Ce;continue;case Pe:if(s==i||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&de(d))c=Ce;else if(""==d){if(u.host="",t)return;c=Ie}else{if(a=u.parseHost(d))return a;if("localhost"==u.host&&(u.host=""),t)return;d="",c=Ie}continue}d+=s;break;case Ie:if(u.isSpecial()){if(c=Ce,"/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=i&&(c=Ce,"/"!=s))continue}else u.fragment="",c=Le;else u.query="",c=De;break;case Ce:if(s==i||"/"==s||"\\"==s&&u.isSpecial()||!t&&("?"==s||"#"==s)){if(".."===(l=z(l=d))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"==s||"\\"==s&&u.isSpecial()||k(u.path,"")):fe(d)?"/"==s||"\\"==s&&u.isSpecial()||k(u.path,""):("file"==u.scheme&&!u.path.length&&de(d)&&(u.host&&(u.host=""),d=B(d,0)+":"),k(u.path,d)),d="","file"==u.scheme&&(s==i||"?"==s||"#"==s))for(;u.path.length>1&&""===u.path[0];)U(u.path);"?"==s?(u.query="",c=De):"#"==s&&(u.fragment="",c=Le)}else d+=ce(s,le);break;case Be:"?"==s?(u.query="",c=De):"#"==s?(u.fragment="",c=Le):s!=i&&(u.path[0]+=ce(s,oe));break;case De:t||"#"!=s?s!=i&&("'"==s&&u.isSpecial()?u.query+="%27":u.query+="#"==s?"%23":ce(s,oe)):(u.fragment="",c=Le);break;case Le:s!=i&&(u.fragment+=ce(s,ae))}h++}},parseHost:function(e){var t,r,i;if("["==B(e,0)){if("]"!=B(e,e.length-1))return X;if(t=function(e){var t,r,i,n,s,o,a,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return B(e,h)};if(":"==d()){if(":"!=B(e,1))return;h+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=r=0;r<4&&D(ee,d());)t=16*t+P(d(),16),h++,r++;if("."==d()){if(0==r)return;if(h-=r,u>6)return;for(i=0;d();){if(n=null,i>0){if(!("."==d()&&i<4))return;h++}if(!D(Z,d()))return;for(;D(Z,d());){if(s=P(d(),10),null===n)n=s;else{if(0==n)return;n=10*n+s}if(n>255)return;h++}l[u]=256*l[u]+n,2!=++i&&4!=i||u++}if(4!=i)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;h++,c=++u}}if(null!==c)for(o=u-c,u=7;0!=u&&o>0;)a=l[u],l[u--]=l[c+o-1],l[c+--o]=a;else if(8!=u)return;return l}(V(e,1,-1)),!t)return X;this.host=t}else if(this.isSpecial()){if(e=g(e),D(te,e))return X;if(t=function(e){var t,r,i,n,s,o,a,l=Q(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(r=[],i=0;i<t;i++){if(""==(n=l[i]))return e;if(s=10,n.length>1&&"0"==B(n,0)&&(s=D(J,n)?16:8,n=V(n,8==s?1:2)),""===n)o=0;else{if(!D(10==s?$:8==s?K:ee,n))return e;o=P(n,s)}k(r,o)}for(i=0;i<t;i++)if(o=r[i],i==t-1){if(o>=C(256,5-t))return null}else if(o>255)return null;for(a=N(r),i=0;i<r.length;i++)a+=r[i]*C(256,3-i);return a}(e),null===t)return X;this.host=t}else{if(D(re,e))return X;for(t="",r=p(e),i=0;i<r.length;i++)t+=ce(r[i],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return A(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,i=e.password,n=e.host,s=e.port,o=e.path,a=e.query,l=e.fragment,u=t+":";return null!==n?(u+="//",e.includesCredentials()&&(u+=r+(i?":"+i:"")+"@"),u+=se(n),null!==s&&(u+=":"+s)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==a&&(u+="?"+a),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw T(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ne(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",pe)},getUsername:function(){return this.username},setUsername:function(e){var t=p(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ce(t[r],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=p(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=ce(t[r],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Me)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getPort:function(){var e=this.port;return null===e?"":y(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=y(e))?this.port=null:this.parse(e,_e))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ie))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=y(e))?this.query=null:("?"==B(e,0)&&(e=V(e,1)),this.query="",this.parse(e,De)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=y(e))?("#"==B(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,Le)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ne=function(e){var t=d(this,ke),r=b(arguments.length,1)>1?arguments[1]:void 0,i=S(t,new Oe(e,!1,r));s||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},ke=Ne.prototype,Ge=function(e,t){return{get:function(){return M(this)[e]()},set:t&&function(e){return M(this)[t](e)},configurable:!0,enumerable:!0}};if(s&&(h(ke,"href",Ge("serialize","setHref")),h(ke,"origin",Ge("getOrigin")),h(ke,"protocol",Ge("getProtocol","setProtocol")),h(ke,"username",Ge("getUsername","setUsername")),h(ke,"password",Ge("getPassword","setPassword")),h(ke,"host",Ge("getHost","setHost")),h(ke,"hostname",Ge("getHostname","setHostname")),h(ke,"port",Ge("getPort","setPort")),h(ke,"pathname",Ge("getPathname","setPathname")),h(ke,"search",Ge("getSearch","setSearch")),h(ke,"searchParams",Ge("getSearchParams")),h(ke,"hash",Ge("getHash","setHash"))),c(ke,"toJSON",(function(){return M(this).serialize()}),{enumerable:!0}),c(ke,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),F){var Ue=F.createObjectURL,Qe=F.revokeObjectURL;Ue&&c(Ne,"createObjectURL",l(Ue,F)),Qe&&c(Ne,"revokeObjectURL",l(Qe,F))}w(Ne,"URL"),n({global:!0,constructor:!0,forced:!o,sham:!s},{URL:Ne})},14121:(e,t,r)=>{r(95340)},85371:(e,t,r)=>{"use strict";var i=r(23103),n=r(20266);i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return n(URL.prototype.toString,this)}})}},e=>{var t=t=>e(e.s=t);t(70982),t(37197)}]);